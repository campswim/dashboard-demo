{"ast":null,"code":"var _jsxFileName = \"/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/components/order-details.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport formatHeaders from '../hooks/format-headers';\nimport formatCurrency from '../hooks/format-currency';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OrderDetails = props => {\n  _s();\n\n  const [item, setItem] = useState({});\n  const [pastedValue, setPastedValue] = useState(null);\n  const category = props.caller ? Object.keys(props.caller)[0] : null;\n  const caller = props.caller ? Object.values(props.caller)[0] : null;\n  const editableFields = {\n    settings: {\n      maps: ['SourceWarehouse', 'SourceShipMethod', 'DestinationWarehouse'],\n      params: ['EnabledDate', 'Value', 'Category', 'SubCategory', 'Notes']\n    },\n    users: {\n      user: ['Name', 'Role']\n    }\n  };\n\n  const closeModal = () => {\n    const main = Object.values(document.getElementsByTagName('main'))[0];\n    const attribute = main.getAttribute('style');\n    if (attribute) main.removeAttribute('style'); // Remove the style attribute that fixes the main's height upon closing the modal.\n\n    props.closeModal();\n  };\n\n  const handlePaste = (event, id) => {\n    event.preventDefault();\n    const paste = (event.clipboardData || window.clipboardData).getData('text');\n    setPastedValue([id, paste]);\n  };\n\n  const handleClick = (e, key, item) => {\n    const role = document.getElementById(`user-role-${key}`);\n    const newRole = e.target.textContent;\n    if (role && newRole) role.textContent = newRole;\n    props.handleRoleSelect(e, props.details.idx, key, item, 'modal');\n  }; // Populate the item state variable.\n\n\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      setItem(props.details);\n    }\n\n    return () => mounted = false;\n  }, [props.details]); // Resize the main tag to fit the modal.\n\n  useEffect(() => {\n    const modal = document.getElementsByClassName('order-details-modal');\n\n    if (modal && modal.length > 0) {\n      var _Object$values$;\n\n      const main = Object.values(document.getElementsByTagName('main'))[0];\n      const modalHeight = (_Object$values$ = Object.values(modal)[0]) === null || _Object$values$ === void 0 ? void 0 : _Object$values$.clientHeight;\n      const mainHeight = main.clientHeight;\n\n      if (modalHeight > mainHeight) {\n        main.setAttribute('style', `height: ${modalHeight + 10}px`);\n      } else {\n        const attribute = main.getAttribute('style');\n        if (attribute) main.removeAttribute('style');\n      }\n    }\n  }, [item]);\n  return item && JSON.stringify(item) !== '{}' ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-details-modal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"x-close-container\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"x-close\",\n        onClick: () => closeModal(),\n        children: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-details-card\",\n      children: Object.entries(item).map((detail, key) => detail[0] !== 'idx' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-details-detail\",\n        children: caller && category ? editableFields[category][caller].includes(detail[0]) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details-detail-container\",\n          children: detail[0] === 'EnabledDate' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: props.getClassNamesFor(detail[0]),\n              children: \"Enabled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"editable\",\n              suppressContentEditableWarning: \"true\",\n              \"data-default-value\": \"\\u2713\",\n              id: `checkmark-${key}`,\n              onBlur: e => props.handleBlur(caller === 'maps' ? item.Id : item.Name, key, detail[0], e, caller === 'params' ? item.idx : null),\n              onClick: e => props.handleClick(e.target, key, detail[0], item.Name, item.EnabledDate, item, item.idx),\n              onPaste: e => {\n                handlePaste(e, `${detail[1] ? detail[1] : 'None'}-${key}`);\n              },\n              children: detail[1] && detail[1] !== 'disable' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                \"data-default-value\": \"\\u2713\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 65\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                \"data-default-value\": \"\\u2713\",\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 119\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true) : detail[0] === 'Role' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: props.getClassNamesFor(detail[0]),\n              children: formatHeaders(detail[0])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"editable select-container\",\n              id: `select-role-${key}`,\n              name: \"role\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"role-option default\",\n                id: `user-role-${key}`,\n                \"data-default-value\": detail[1],\n                onClick: () => props.toggleSelect(key),\n                children: detail[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 27\n              }, this), props.userRoles.map((value, idx) => /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"role-option\",\n                id: `${item.Role}-${idx}`,\n                \"data-value\": value.Id,\n                onClick: e => handleClick(e, key, item),\n                children: value.Role\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 29\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: props.getClassNamesFor(detail[0]),\n              children: formatHeaders(detail[0])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"editable\",\n              suppressContentEditableWarning: \"true\",\n              \"data-default-value\": detail[1],\n              id: `${detail[0] ? detail[0] : 'None'}-${key}`,\n              onBlur: e => props.handleBlur(caller === 'maps' || caller === 'user' ? item.Id : item.Name, caller === 'user' ? item.idx : key, detail[0], e, caller === 'params' || caller === 'user' ? item.idx : null),\n              onClick: e => props.handleClick(e.target, key, detail[0]),\n              onPaste: e => {\n                handlePaste(e, `${detail[1] ? detail[1] : 'None'}-${key}`);\n              },\n              children: pastedValue && pastedValue[1] !== detail[1] && pastedValue[0] === `${detail[1] ? detail[1] : 'None'}-${key}` ? pastedValue[1] : detail[1] ? detail[1] : 'None'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }, this) : detail[0] === 'ActivatedAt' || detail[0] === 'DeactivatedAt' || detail[0] === 'ModifiedAt' || detail[0] === 'At' || detail[0] === 'DateRegistered' || detail[0] === 'LastLogin' || detail[0] === 'OrderDate' || detail[0] === 'IgnoredAt' || detail[0] === 'StagingImportDate' || detail[0] === 'IgnoredDate' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details-detail-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatHeaders(detail[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: detail[1] ? new Date(parseInt(detail[1])).toISOString().split('T')[0] : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details-detail-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatHeaders(detail[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (detail[0] === 'LoggedIn' || detail[0] === 'Active') && detail[1] ? 'Yes' : (detail[0] === 'LoggedIn' || detail[0] === 'Active') && !detail[1] ? 'No' : detail[1] ? detail[1] : 'None'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 19\n        }, this) : detail[0] === 'ActivatedAt' || detail[0] === 'DeactivatedAt' || detail[0] === 'ModifiedAt' || detail[0] === 'At' || detail[0] === 'DateRegistered' || detail[0] === 'LastLogin' || detail[0] === 'OrderDate' || detail[0] === 'IgnoredAt' || detail[0] === 'StagingImportDate' || detail[0] === 'IgnoredDate' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details-detail-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatHeaders(detail[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: detail[1] ? new Date(parseInt(detail[1])).toISOString().split('T')[0] : 'None'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this) : detail[0] !== 'CurrencyCode' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details-detail-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatHeaders(detail[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: detail[0].includes('OrderTotal') ? formatCurrency(detail[1], item['CurrencyCode']) : detail[1] ? detail[1] : 'None'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 19\n        }, this) : null\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this) : null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this) : null;\n};\n\n_s(OrderDetails, \"b6D2zQ0un39IuHhnSjqHJs8k3c4=\");\n\n_c = OrderDetails;\nexport default OrderDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetails\");","map":{"version":3,"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/components/order-details.js"],"names":["React","useState","useEffect","formatHeaders","formatCurrency","OrderDetails","props","item","setItem","pastedValue","setPastedValue","category","caller","Object","keys","values","editableFields","settings","maps","params","users","user","closeModal","main","document","getElementsByTagName","attribute","getAttribute","removeAttribute","handlePaste","event","id","preventDefault","paste","clipboardData","window","getData","handleClick","e","key","role","getElementById","newRole","target","textContent","handleRoleSelect","details","idx","mounted","modal","getElementsByClassName","length","modalHeight","clientHeight","mainHeight","setAttribute","JSON","stringify","entries","map","detail","includes","getClassNamesFor","handleBlur","Id","Name","EnabledDate","toggleSelect","userRoles","value","Role","Date","parseInt","toISOString","split"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport formatHeaders from '../hooks/format-headers';\nimport formatCurrency from '../hooks/format-currency';\n\nconst OrderDetails = props => {\n  const [item, setItem] = useState({});\n  const [pastedValue, setPastedValue] = useState(null);\n  const category = props.caller ? Object.keys(props.caller)[0] : null;\n  const caller = props.caller ? Object.values(props.caller)[0] : null;\n  const editableFields = {\n    settings: {\n      maps: [\n        'SourceWarehouse',\n        'SourceShipMethod',\n        'DestinationWarehouse'\n      ],\n      params: [\n        'EnabledDate',\n        'Value',\n        'Category',\n        'SubCategory',\n        'Notes'\n      ]\n    },\n    users: {\n      user: [\n        'Name',\n        'Role'\n      ]\n    }\n  };\n\n  const closeModal = () => {\n    const main = Object.values(document.getElementsByTagName('main'))[0];\n    const attribute = main.getAttribute('style');\n    if (attribute) main.removeAttribute('style'); // Remove the style attribute that fixes the main's height upon closing the modal.\n    props.closeModal();\n  };\n  \n  const handlePaste = (event, id) => {\n    event.preventDefault();\n    const paste = (event.clipboardData || window.clipboardData).getData('text');\n    setPastedValue([id, paste]);\n  };\n\n  const handleClick = (e, key, item) => {\n    const role = document.getElementById(`user-role-${key}`);\n    const newRole = e.target.textContent;\n\n    if (role && newRole) role.textContent = newRole;\n\n    props.handleRoleSelect(e, props.details.idx, key, item, 'modal');\n  };\n\n  // Populate the item state variable.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      setItem(props.details);\n    }\n    return () => mounted = false;\n  }, [props.details]);\n  \n  // Resize the main tag to fit the modal.\n  useEffect(() => {\n    const modal = document.getElementsByClassName('order-details-modal');\n    \n    if (modal && modal.length > 0) {\n      const main = Object.values(document.getElementsByTagName('main'))[0];\n      const modalHeight = Object.values(modal)[0]?.clientHeight;\n      const mainHeight = main.clientHeight;\n\n      if (modalHeight > mainHeight) {\n        main.setAttribute('style', `height: ${modalHeight + 10}px`);\n      } else {\n        const attribute = main.getAttribute('style');\n        if (attribute) main.removeAttribute('style');\n      }\n    }\n  }, [item]);\n    \n  return item && JSON.stringify(item) !== '{}' ? \n  (\n    <div className='order-details-modal'>\n      <div className='x-close-container'>\n        <span className=\"x-close\" onClick={() => closeModal()}>x</span>\n      </div>\n      <div className='order-details-card'>\n        {Object.entries(item).map((detail, key) => (\n          detail[0] !== 'idx' ? \n          (\n            <div key={key} className='order-details-detail'>\n              {caller && category ? \n              (\n                editableFields[category][caller].includes(detail[0]) ?\n                (\n                  <div className='order-details-detail-container'>\n                    {detail[0] === 'EnabledDate' ? \n                    (\n                      <>\n                        <p className={props.getClassNamesFor(detail[0])}>Enabled</p>\n                        <p\n                        className=\"editable\"\n                        suppressContentEditableWarning=\"true\"\n                        data-default-value=\"&#10003;\"\n                        id={`checkmark-${key}`}\n                        onBlur={(e) => props.handleBlur(caller === 'maps' ? item.Id : item.Name, key, detail[0], e, caller === 'params' ? item.idx : null)}\n                        onClick={(e) => props.handleClick(e.target, key, detail[0], item.Name, item.EnabledDate, item, item.idx)}\n                        onPaste={(e) => {handlePaste(e, `${detail[1] ? detail[1] : 'None'}-${key}`)}}\n                      >\n                        {detail[1] && detail[1] !== 'disable' ? <span data-default-value=\"&#10003;\">&#10003;</span> : <span data-default-value=\"&#10003;\">No</span>}\n                      </p>\n                    </>\n                    )\n                    : detail[0] === 'Role' ?\n                    (\n                      <>\n                        <p className={props.getClassNamesFor(detail[0])}>{formatHeaders(detail[0])}</p>\n                        <div className='editable select-container' id={`select-role-${key}`} name='role'>\n                          <p \n                            className='role-option default' \n                            id={`user-role-${key}`}\n                            data-default-value={detail[1]}\n                            onClick={() => props.toggleSelect(key)}\n                          >\n                            {detail[1]}\n                          </p>\n                          {props.userRoles.map((value, idx) => (\n                            <p \n                              className='role-option' \n                              id={`${item.Role}-${idx}`}\n                              key={idx} \n                              data-value={value.Id} \n                              onClick={(e) => handleClick(e, key, item)}\n                            >\n                              {value.Role}\n                            </p>\n                          ))}\n                        </div>\n                      </>\n                    )\n                    :\n                    (\n                      <>\n                        <p className={props.getClassNamesFor(detail[0])}>{formatHeaders(detail[0])}</p>\n                        <p\n                          className=\"editable\"\n                          suppressContentEditableWarning=\"true\"\n                          data-default-value={detail[1]}\n                          id={`${detail[0] ? detail[0] : 'None'}-${key}`}\n                          onBlur={(e) => props.handleBlur(caller === 'maps' || caller === 'user' ? item.Id : item.Name, caller === 'user' ? item.idx : key, detail[0], e, caller === 'params' || caller === 'user' ? item.idx : null)}\n                          onClick={(e) => props.handleClick(e.target, key, detail[0])}\n                          onPaste={(e) => {handlePaste(e, `${detail[1] ? detail[1] : 'None'}-${key}`)}}\n                        >\n                          {pastedValue && pastedValue[1] !== detail[1] && pastedValue[0] === `${detail[1] ? detail[1] : 'None'}-${key}` ? pastedValue[1] : detail[1] ? detail[1] : 'None'}\n                        </p>\n                      </>\n                    )}\n                  </div>\n                )\n                : detail[0] === 'ActivatedAt' || detail[0] === 'DeactivatedAt' || detail[0] === 'ModifiedAt' || detail[0] === 'At' || detail[0] === 'DateRegistered' || detail[0] === 'LastLogin' || detail[0] === 'OrderDate' || detail[0] === 'IgnoredAt' || detail[0] === 'StagingImportDate' || detail[0] === 'IgnoredDate' ?\n                (\n                  <div className='order-details-detail-container'>\n                    <p>{formatHeaders(detail[0])}</p>\n                    <p>{detail[1] ? new Date(parseInt(detail[1])).toISOString().split('T')[0] : 'N/A'}</p>\n                  </div>\n                )\n                :\n                (\n                  <div className='order-details-detail-container'>\n                    <p>{formatHeaders(detail[0])}</p>\n                    <p>{(detail[0] === 'LoggedIn' || detail[0] === 'Active') && detail[1] ? 'Yes' : (detail[0]  === 'LoggedIn' || detail[0] === 'Active') && !detail[1] ? 'No' : detail[1] ? detail[1] : 'None'}</p>\n                  </div>\n                )\n              )\n              : detail[0] === 'ActivatedAt' || detail[0] === 'DeactivatedAt' || detail[0] === 'ModifiedAt' || detail[0] === 'At' || detail[0] === 'DateRegistered' || detail[0] === 'LastLogin' || detail[0] === 'OrderDate' || detail[0] === 'IgnoredAt' || detail[0] === 'StagingImportDate' || detail[0] === 'IgnoredDate' ?\n              (\n                <div className='order-details-detail-container'>\n                  <p>{formatHeaders(detail[0])}</p>\n                  <p>{detail[1] ? new Date(parseInt(detail[1])).toISOString().split('T')[0] : 'None'}</p>\n                </div>\n              )\n              :\n              (\n                detail[0] !== 'CurrencyCode' ? \n                (\n                  <div className='order-details-detail-container'>\n                    <p>{formatHeaders(detail[0])}</p>\n                    <p>{detail[0].includes('OrderTotal') ? formatCurrency(detail[1], item['CurrencyCode']) : detail[1] ? detail[1] : 'None'}</p>\n                  </div>\n                )\n                :\n                (\n                  null\n                )\n              )}\n            </div>\n          )\n          :\n          (\n            null\n          )\n        ))}\n      </div>\n    </div>\n  )\n  :\n  (\n    null\n  );\n}\n\nexport default OrderDetails;\n"]},"metadata":{},"sourceType":"module"}