{"ast":null,"code":"import axios from 'axios';\nexport default async function apiCall(operation, query, variables, token) {\n  console.log({\n    operation,\n    query,\n    variables,\n    token\n  });\n  const url = window.location.href.includes('localhost:3000') ? process.env.REACT_APP_API_DEV : window.location.href.includes('localhost:3001') ? process.env.REACT_APP_API_LOCAL : process.env.REACT_APP_ENV === 'development' ? process.env.REACT_APP_API_MANUAL : process.env.REACT_APP_API_AUTO;\n  const graphQlQuery = {\n    operation,\n    query,\n    variables\n  };\n  const options = {\n    method: 'POST',\n    url: url,\n    data: JSON.stringify(graphQlQuery),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  };\n  if (token) options.headers.Authorization = `Bearer ${token}`;\n  return await axios.request(options).then(res => {\n    console.log({\n      res\n    });\n    return res.data;\n  }, err => {\n    return err;\n  });\n}","map":{"version":3,"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/hooks/api-call.js"],"names":["axios","apiCall","operation","query","variables","token","console","log","url","window","location","href","includes","process","env","REACT_APP_API_DEV","REACT_APP_API_LOCAL","REACT_APP_ENV","REACT_APP_API_MANUAL","REACT_APP_API_AUTO","graphQlQuery","options","method","data","JSON","stringify","headers","withCredentials","Authorization","request","then","res","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,eAAeC,OAAf,CAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,SAAzC,EAAoDC,KAApD,EAA2D;AAExEC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACL,IAAAA,SAAD;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,SAAnB;AAA8BC,IAAAA;AAA9B,GAAZ;AAEA,QAAMG,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,QAArB,CAA8B,gBAA9B,IAAkDC,OAAO,CAACC,GAAR,CAAYC,iBAA9D,GAAkFN,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,QAArB,CAA8B,gBAA9B,IAAkDC,OAAO,CAACC,GAAR,CAAYE,mBAA9D,GAAoFH,OAAO,CAACC,GAAR,CAAYG,aAAZ,KAA8B,aAA9B,GAA8CJ,OAAO,CAACC,GAAR,CAAYI,oBAA1D,GAAiFL,OAAO,CAACC,GAAR,CAAYK,kBAA/Q;AACA,QAAMC,YAAY,GAAG;AACnBlB,IAAAA,SADmB;AAEnBC,IAAAA,KAFmB;AAGnBC,IAAAA;AAHmB,GAArB;AAKA,QAAMiB,OAAO,GAAG;AACdC,IAAAA,MAAM,EAAE,MADM;AAEdd,IAAAA,GAAG,EAAEA,GAFS;AAGde,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,YAAf,CAHQ;AAIdM,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAJK;AAOdC,IAAAA,eAAe,EAAE;AAPH,GAAhB;AAUA,MAAItB,KAAJ,EAAWgB,OAAO,CAACK,OAAR,CAAgBE,aAAhB,GAAiC,UAASvB,KAAM,EAAhD;AAEX,SAAO,MAAML,KAAK,CAAC6B,OAAN,CAAcR,OAAd,EAAuBS,IAAvB,CACXC,GAAG,IAAI;AACLzB,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACwB,MAAAA;AAAD,KAAZ;AACA,WAAOA,GAAG,CAACR,IAAX;AAAiB,GAHR,EAIXS,GAAG,IAAI;AAAE,WAAOA,GAAP;AAAa,GAJX,CAAb;AAMD","sourcesContent":["import axios from 'axios';\n\nexport default async function apiCall(operation, query, variables, token) {\n\n  console.log({operation, query, variables, token});\n\n  const url = window.location.href.includes('localhost:3000') ? process.env.REACT_APP_API_DEV : window.location.href.includes('localhost:3001') ? process.env.REACT_APP_API_LOCAL : process.env.REACT_APP_ENV === 'development' ? process.env.REACT_APP_API_MANUAL : process.env.REACT_APP_API_AUTO;\n  const graphQlQuery = {\n    operation,\n    query,\n    variables\n  };\n  const options = {\n    method: 'POST',\n    url: url,\n    data: JSON.stringify(graphQlQuery),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    withCredentials: true\n  };\n\n  if (token) options.headers.Authorization = `Bearer ${token}`;\n\n  return await axios.request(options).then(\n    res => { \n      console.log({res});\n      return res.data },\n    err => { return err; }\n  );\n}\n"]},"metadata":{},"sourceType":"module"}