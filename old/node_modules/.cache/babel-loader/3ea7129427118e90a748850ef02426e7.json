{"ast":null,"code":"var _jsxFileName = \"/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/pages/home/home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, Redirect } from 'react-router-dom'; // import PushedOrders from './pushed/pushed-orders';\n\nimport StagedOrders from './staged/staged-orders';\nimport FailedProcessesSummary from './failed-processes/failed-processes';\nimport BcMissingItems from './missing/bc-missing-items';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  var _params$state, _loggedInUser$restric, _loggedInUser$restric2;\n\n  const [user, setUser] = useState({});\n  const [loggedIn, setloggedIn] = useState(localStorage.getItem('loggedIn') && localStorage.getItem('loggedIn') !== 'null' ? parseInt(localStorage.getItem('loggedIn')) : 0);\n  const [loggedInUser, setLoggedInUser] = useState(localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null);\n  const params = useLocation();\n  const userFromState = params === null || params === void 0 ? void 0 : (_params$state = params.state) === null || _params$state === void 0 ? void 0 : _params$state.user; // Set the userFromState and loggedIn and loggedInUser variables.\n\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      setloggedIn(localStorage.getItem('loggedIn') && localStorage.getItem('loggedIn') !== 'null' ? parseInt(localStorage.getItem('loggedIn')) : 0);\n      setLoggedInUser(localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null);\n      if ((userFromState === null || userFromState === void 0 ? void 0 : userFromState.action) !== (user === null || user === void 0 ? void 0 : user.action)) setUser(userFromState);\n    }\n\n    return () => mounted = false;\n  }, [user === null || user === void 0 ? void 0 : user.action, userFromState]);\n  return loggedIn ? loggedInUser && ((loggedInUser === null || loggedInUser === void 0 ? void 0 : (_loggedInUser$restric = loggedInUser.restrictions) === null || _loggedInUser$restric === void 0 ? void 0 : _loggedInUser$restric.pages) === 'None' || !(loggedInUser === null || loggedInUser === void 0 ? void 0 : (_loggedInUser$restric2 = loggedInUser.restrictions) === null || _loggedInUser$restric2 === void 0 ? void 0 : _loggedInUser$restric2.pages.includes('Dashboard'))) ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"welcome-user\",\n      children: `${loggedInUser.name ? `Welcome, ${loggedInUser.name}` : ''}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StagedOrders, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FailedProcessesSummary, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BcMissingItems, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"role-denied\",\n    children: [\"Your profile's assigned role of \\\"\", loggedInUser.role, \"\\\" does not allow you to access this page.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this) :\n  /*#__PURE__*/\n  // <div className=\"signin-error\">{user?.name ? `${user.name}, you're not logged in; please try signing in again.` : 'You must sign in to access this resource.'}</div>\n  _jsxDEV(Redirect, {\n    to: {\n      pathname: '/login',\n      state: {\n        action: 'Sign In',\n        message: 'Please sign in.'\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"/euosovoHdxU7sn42/IZXKe0I78=\", false, function () {\n  return [useLocation];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/pages/home/home.js"],"names":["React","useState","useEffect","useLocation","Redirect","StagedOrders","FailedProcessesSummary","BcMissingItems","Home","user","setUser","loggedIn","setloggedIn","localStorage","getItem","parseInt","loggedInUser","setLoggedInUser","JSON","parse","params","userFromState","state","mounted","action","restrictions","pages","includes","name","role","pathname","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, Redirect } from 'react-router-dom';\n// import PushedOrders from './pushed/pushed-orders';\nimport StagedOrders from './staged/staged-orders';\nimport FailedProcessesSummary from './failed-processes/failed-processes';\nimport BcMissingItems from './missing/bc-missing-items';\n\nconst Home = () => {\n  const [user, setUser] = useState({});\n  const [loggedIn, setloggedIn] = useState(localStorage.getItem('loggedIn') && localStorage.getItem('loggedIn') !== 'null' ? parseInt(localStorage.getItem('loggedIn')) : 0);\n  const [loggedInUser, setLoggedInUser] = useState(localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null);\n  const params = useLocation();\n  const userFromState = params?.state?.user;\n    \n  // Set the userFromState and loggedIn and loggedInUser variables.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      setloggedIn(localStorage.getItem('loggedIn') && localStorage.getItem('loggedIn') !== 'null' ? parseInt(localStorage.getItem('loggedIn')) : 0);\n      setLoggedInUser(localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null);\n      if (userFromState?.action !== user?.action) setUser(userFromState);\n    }\n    return () => mounted = false;\n  }, [user?.action, userFromState]);\n  \n  return loggedIn ?\n  (\n    loggedInUser && (loggedInUser?.restrictions?.pages === 'None' || !loggedInUser?.restrictions?.pages.includes('Dashboard')) ?\n    (\n      <div className='dashboard-container'>\n        <h3 className='welcome-user'>{`${loggedInUser.name ? `Welcome, ${loggedInUser.name}` : ''}`}</h3>\n        {/* <PushedOrders /> */}\n        <StagedOrders />\n        <FailedProcessesSummary />\n        <BcMissingItems />\n      </div>\n    )\n    :\n    (\n      <div className=\"role-denied\">Your profile's assigned role of \"{loggedInUser.role}\" does not allow you to access this page.</div>\n    )\n  )\n  : \n  (\n    // <div className=\"signin-error\">{user?.name ? `${user.name}, you're not logged in; please try signing in again.` : 'You must sign in to access this resource.'}</div>\n    <Redirect to={\n      {\n        pathname: '/login',\n        state: {\n          action: 'Sign In',\n          message: 'Please sign in.'\n        },\n      }\n    }\n    />\n  )\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}