{"ast":null,"code":"var _jsxFileName = \"/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/pages/users/user.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport formatHeaders from '../../hooks/format-headers';\nimport useSort from '../../hooks/sort-data';\nimport Checkbox from '../../components/checkbox';\nimport User from '../../hooks/get-user';\nimport selectElementContents from '../../hooks/select-all';\nimport getType from '../../hooks/get-type';\nimport logChange from '../../hooks/log-change';\nimport OrderDetails from '../../components/order-details';\nimport Tabs from '../../components/tabs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Users = props => {\n  _s();\n  const [tabs, setTabs] = useState([]);\n  const [allChecked, setAllChecked] = useState(false);\n  const [isChecked, setIsChecked] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [userRoles, setUserRoles] = useState([]);\n  const [activeTab, setActiveTab] = useState('All Roles');\n  const [activeTabIndex, setActiveTabIndex] = useState(0);\n  const [activeTabCount, setActiveTabCount] = useState(0);\n  const [activeLink, setActiveLink] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const [error, setError] = useState('');\n  const [loggedInUser, setLoggedInUser] = useState(JSON.parse(localStorage.getItem('user')));\n  const [newValue, setNewValue] = useState({});\n  const [orderDetails, setOrderDetails] = useState({});\n  const [showDetails, setShowDetails] = useState(false);\n  const [roleName, setRoleName] = useState(null);\n  const [vpWidth, setVpWidth] = useState(window.innerWidth);\n  const messageRef = useRef('');\n  const clickLocation = useRef('');\n  const clickCount = useRef(0);\n  const prevElement = useRef('');\n  const dataType = useRef({}); // => dataType.current = {ColumnName, DataType, MaxLength}\n  const changeDate = useRef('');\n  const updated = useRef(false);\n  const user = new User();\n  let tableHeaders = props.users.length > 0 ? Object.keys(props.users[0]) : [],\n    formattedHeaders = [];\n  let {\n    items,\n    requestSort,\n    sortConfig\n  } = useSort(users, 'users');\n  const getClassNamesFor = useCallback(name => {\n    if (!sortConfig) return;\n    let className = 'Name' === name || 'Role' === name ? 'header-editable' : '';\n    className = sortConfig.key === name ? sortConfig.direction + ' ' + className : className;\n    return className ? className : undefined;\n  }, [sortConfig]);\n\n  // Format the table headers.\n  if (tableHeaders.length > 0) {\n    // Remove RoleId from the headers before formatting.\n    tableHeaders = tableHeaders.filter(header => header !== 'RoleId');\n    formattedHeaders = formatHeaders(tableHeaders, 'Error');\n  }\n  console.log({\n    formattedHeaders\n  });\n\n  // // Handles the selection and formatting of the page's tabs.\n  const handleTabClick = (event, next) => {\n    let chosenButtonValue;\n    if (event) {\n      event.preventDefault();\n      chosenButtonValue = event.target.value;\n    } else chosenButtonValue = next;\n    setActiveTab(chosenButtonValue);\n    setActiveLink(false);\n    props.handleClick(chosenButtonValue);\n    setIsChecked([]);\n  };\n\n  // Handles the toggling of the select-all checkbox.\n  const handleSelectAll = event => {\n    const tab = event.target.value;\n    const activeItems = items.filter(item => item.RoleId === activeTab || 0 === activeTab);\n    if (tab === activeTab) setAllChecked(!allChecked);\n    setIsChecked(activeItems.map(item => item.Id));\n    setAllChecked(!allChecked);\n    if (allChecked) setIsChecked([]);\n  };\n\n  // Handles the toggling of individual checkboxes.\n  const handleSelect = event => {\n    const {\n      value,\n      checked\n    } = event.target;\n    setIsChecked([...isChecked, value]);\n    if (!checked) setIsChecked(isChecked.filter(item => item !== value));\n  };\n\n  // Handles the action initiated by the user.\n  const action = (path, item, idx) => {\n    if (path === 'showDetails') {\n      item.idx = idx;\n      setOrderDetails(item);\n      setShowDetails(true);\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } else if (isChecked.length !== 0) {\n      const ids = [];\n      const filteredRows = users.filter(row => isChecked.includes(row.Id));\n      filteredRows.forEach(row => ids.push(row.Id));\n\n      // This feature deletes the user.\n      if (ids.length > 0) {\n        user.deleteUser(path, ids).then(res => {\n          if (res.data) {\n            var _res$data, _res$data$deleteUser;\n            // IDs of deleted users are being returned but not currently used.\n            setError('');\n            setShowMessage(true);\n\n            // Log the user out if all users are deleted or if the signed-in user is deleted.\n            if (((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$deleteUser = _res$data.deleteUser) === null || _res$data$deleteUser === void 0 ? void 0 : _res$data$deleteUser.length) === users.length) {\n              // All users were deleted.\n              user.signOut().then(() => {\n                localStorage.setItem('user', null);\n                props.liftData(0, 'user', false);\n              }, err => {\n                console.error(err);\n              });\n            } else {\n              // Not all users were deleted: if the user deleted herself, sign her out.\n              const match = ids.filter(id => id === loggedInUser.id);\n              if (match.length === 1) {\n                user.signOut().then(() => {\n                  localStorage.setItem('user', null);\n                  props.liftData(0, 'user', false);\n                }, err => {\n                  console.error(err);\n                });\n              }\n            }\n          } else if (res.name) {\n            console.error('Error: ', res.message);\n            setError(res.message);\n            setShowMessage(true);\n          }\n          props.recall(path);\n        }, err => {\n          console.error({\n            err\n          });\n          setError(err.message);\n        });\n      }\n      setIsChecked([]);\n      setAllChecked(false);\n    } else alert('Please tick a user.');\n\n    // Store a flag in storage to indicate that a new action has been initiated.\n    sessionStorage.setItem('action', true);\n  };\n\n  // Generates the message to show the user after an action has been initiated.\n  const message = action => {\n    let pastTenseVerb;\n    if (action && action === 'Delete User') {\n      pastTenseVerb = 'deleted';\n    }\n    if (action && action === 'Add User') {\n      pastTenseVerb = 'added';\n    }\n    return pastTenseVerb;\n  };\n\n  // Helps manage the editing of editable fields.\n  const handleClick = (event, row, column) => {\n    let currentValue = event.textContent;\n    let defaultValue = event.dataset.defaultValue;\n    const element = document.getElementById(`${column}-${row}`);\n    if (clickLocation.current !== event.id) {\n      clickCount.current = 0;\n      if (element) {\n        var _prevElement$current, _prevElement$current2;\n        // Restore the element's previous value if unclicked.\n        const id = prevElement ? prevElement === null || prevElement === void 0 ? void 0 : (_prevElement$current = prevElement.current) === null || _prevElement$current === void 0 ? void 0 : _prevElement$current.id : '';\n        const value = id ? prevElement === null || prevElement === void 0 ? void 0 : (_prevElement$current2 = prevElement.current) === null || _prevElement$current2 === void 0 ? void 0 : _prevElement$current2.value : '';\n        const tempElement = id ? document.getElementById(id) : '';\n        if (tempElement && value) document.getElementById(id).innerHTML = value;\n        prevElement.current = '';\n      }\n    }\n    if (clickCount.current <= 1 && vpWidth >= 1024) selectElementContents(element); // Selects all content in the field.\n    if (defaultValue !== currentValue) {\n      // Replace errors in entries with the previous text; also, check unchecked boxes for the DateEnabled field.\n      element.textContent = defaultValue;\n      element.removeAttribute('style');\n    } else {\n      element.setAttribute('contentEditable', 'true');\n      updated.current = false;\n    }\n    clickCount.current++;\n    clickLocation.current = event.id;\n  };\n\n  // Handles user edits.\n  const handleBlur = (userId, row, column, event, idx, rowName) => {\n    var _event$target, _event$target$dataset, _event$target2, _event$target3;\n    let prevValue = 'Role' !== column ? event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : (_event$target$dataset = _event$target.dataset) === null || _event$target$dataset === void 0 ? void 0 : _event$target$dataset.defaultValue : prevElement.current;\n    const newValue = 'Role' !== column ? event === null || event === void 0 ? void 0 : (_event$target2 = event.target) === null || _event$target2 === void 0 ? void 0 : _event$target2.textContent : event === null || event === void 0 ? void 0 : (_event$target3 = event.target) === null || _event$target3 === void 0 ? void 0 : _event$target3.textContent;\n    const table = 'Users';\n    const element = 'Role' !== column ? document.getElementById(`${column}-${row}`) : null;\n    if (prevValue === newValue) {\n      if (element) element.removeAttribute('contentEditable');\n      return;\n    }\n\n    // Get the column's configuration from the DB.\n    if (table && column) {\n      getType(table, column).then(res => {\n        dataType.current = res;\n\n        // Check the input against type and length.\n        if (JSON.stringify(dataType.current) !== '{}') {\n          if (newValue) {\n            const columnName = dataType.current.ColumnName;\n            if (columnName === column) {\n              const type = dataType.current.DataType;\n              let typeNewValue = 'Role' === column ? typeof tabs.indexOf(newValue) : typeof newValue;\n              if (type === typeNewValue) {\n                if (dataType.current.MaxLength > newValue.length || !dataType.current.MaxLength || -1 === dataType.current.MaxLength) {\n                  if (prevValue !== newValue) {\n                    if (!/<\\/?[a-z][\\s\\S]*>/i.test(newValue)) {\n                      // Check that no html is being introduced.\n                      items[row][column] = newValue ? newValue : 'None';\n                      setNewValue({\n                        id: userId,\n                        row,\n                        column,\n                        prevValue,\n                        newValue: newValue,\n                        idx,\n                        rowName\n                      });\n                      updated.current = false;\n                      if (element) {\n                        element.textContent = newValue ? newValue : 'None';\n                      }\n                    } else {\n                      element.setAttribute('style', 'color: red');\n                      element.textContent = 'There is html in the new value. Please revise your input and resubmit.';\n                      element.scrollIntoViewIfNeeded({\n                        behavior: 'smooth',\n                        inline: 'start'\n                      });\n                    }\n                  }\n                }\n              } else {\n                element.setAttribute('style', 'color: red');\n                element.textContent = `The new value's datatype (${typeof newValue}) doesn't match the databases's data type (${type}).`;\n                element.scrollIntoViewIfNeeded({\n                  behavior: 'smooth',\n                  inline: 'start'\n                });\n              }\n            }\n          } else {\n            element.textContent = prevValue;\n          }\n        }\n      }, err => {\n        console.error({\n          err\n        });\n      });\n    }\n  };\n\n  // Close the modal on click of the X.\n  const closeModal = () => {\n    setShowDetails(false);\n    setIsChecked([]);\n    clickCount.current = 0;\n  };\n\n  // Toggle the roles' dropdown menu.\n  const toggleSelect = key => {\n    const options = document.getElementById(`select-role-${key}`).children;\n    if (options) {\n      Object.values(options).forEach(option => {\n        if (option.id) {\n          if (!option.id.includes('user-role')) {\n            option.classList.toggle('show-option');\n          } else {\n            option.classList.toggle('fade-default');\n          }\n        }\n      });\n    }\n    setRoleName(null);\n  };\n\n  // Capture the user's role.\n  const handleRoleSelect = (event, idx, key, item, caller) => {\n    const roleName = event.target.textContent;\n    const options = document.getElementById(`select-role-${key}`).children;\n    if (options) {\n      Object.values(options).forEach(option => {\n        if (option.id) {\n          if (!option.id.includes('user-role')) {\n            option.classList.remove('show-option');\n          } else {\n            option.classList.remove('fade-default');\n          }\n        }\n      });\n    }\n    setRoleName({\n      key,\n      roleName\n    });\n    prevElement.current = item.Role;\n    handleBlur(item.Id, caller === 'modal' ? idx : key, 'Role', event, idx, item.Email);\n  };\n\n  // Send updates to the db for edited fields.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const element = newValue.column !== 'Role' ? document.getElementById(`${newValue.column}-${newValue.row}`) : document.getElementById(`user-role-${newValue.row}`);\n      let userRole;\n      if (JSON.stringify(newValue) !== '{}' && !updated.current) {\n        const operation = 'userUpdate';\n        const user = new User();\n        if ('Role' === newValue.column) {\n          userRoles.forEach(role => {\n            if (role.Role === newValue.newValue) userRole = role.Id;\n          });\n        }\n        user.updateUser(operation, newValue.id, newValue.column, userRole ? userRole : newValue.newValue).then(res => {\n          if (res.data) {\n            var _res$data$operation;\n            let value = res.data[operation] ? res.data[operation][newValue.column] : '';\n            const valueType = 10; // 10 === 'string' in the AppParamsValueType table.\n            const error = (_res$data$operation = res.data[operation]) === null || _res$data$operation === void 0 ? void 0 : _res$data$operation.Error;\n            if (typeof value === 'number') value = JSON.stringify(value);\n            if (value) {\n              if ('Role' === newValue.column) {\n                userRoles.forEach(role => {\n                  if (role.Id === value) value = role.Role;\n                });\n              }\n              if (value === newValue.newValue) {\n                if (element) {\n                  if (loggedInUser.id === newValue.id) {\n                    // The current user is being modified and needs to be updated in storage.\n                    if (newValue.column === 'Role') loggedInUser.role = newValue.newValue;else if (newValue.column === 'Name') loggedInUser.name = newValue.newValue;\n                    setLoggedInUser(loggedInUser);\n                    localStorage.setItem('user', JSON.stringify(loggedInUser));\n                  }\n                  element.removeAttribute('contentEditable');\n                  element.setAttribute('data-default-value', newValue.newValue);\n                  element.scrollIntoViewIfNeeded({\n                    behavior: 'smooth',\n                    inline: 'start'\n                  });\n                  element.classList.toggle('edited');\n                  setTimeout(() => {\n                    element.classList.toggle('edited');\n                    updated.current = true;\n                    if ('Role' === newValue.column) props.recall(); // Recall the API to get the right user tabs after a role change.\n                  }, 2000);\n                }\n                console.log({\n                  newValue\n                });\n\n                // Log the change to the database.\n                logChange('Users', newValue.rowName, newValue.column, newValue.id, newValue.prevValue, newValue.newValue, valueType).then(res => {\n                  if (res.data) {\n                    var _res$data2, _res$data2$logChange;\n                    const changeDateTime = (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$logChange = _res$data2.logChange) === null || _res$data2$logChange === void 0 ? void 0 : _res$data2$logChange.DateTime;\n                    changeDate.current = changeDateTime;\n                    setNewValue({});\n                  } else if (res.errors) {\n                    console.error(res.errors);\n                  }\n                }, err => {\n                  console.error({\n                    err\n                  });\n                });\n              }\n            } else if (error) {\n              element.textContent = error + ' Please correct your input.';\n              element.setAttribute('style', 'color:red');\n            }\n          } else if (res.name) {\n            setError(res.name);\n          } else if (res !== null && res !== void 0 && res.errors) {\n            let errorString = '';\n            if (res.errors.length > 0 && res.errors.length < 2) {\n              errorString = res.errors[0].message;\n            } else if (res.errors.length >= 2) {\n              res.errors.forEach((error, idx) => {\n                if (idx === 0) errorString += error.message;else if (idx === res.errors.length - 1) errorString += ', ' + error.message;else errorString += ', ' + error.message;\n              });\n            }\n            if (errorString) {\n              element.textContent = errorString + ' Please correct your input.';\n              element.setAttribute('style', 'color:red; white-space:pre-wrap');\n            }\n          }\n        }, err => {\n          console.error({\n            err\n          });\n        });\n      }\n    }\n    return () => mounted = false;\n  }, [loggedInUser, newValue, userRoles, props]);\n\n  // Get the tabs for the page.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (items.length > 0) {\n        // const tabsObject = {'All Roles': 0};\n        const tabsArray = ['All Roles'];\n        let tempTabs = [...items];\n\n        // Sort the array by role ID, so that the tabs will always be in the same order.\n        tempTabs.sort((a, b) => {\n          const one = parseInt(a.RoleId);\n          const two = parseInt(b.RoleId);\n          return one > two ? 1 : -1;\n        });\n\n        // Reduce the array of tempTabs to unique ones only.\n        tempTabs.forEach(item => {\n          // tabsObject[item.Role] = item.RoleId;\n          if (!tabsArray.includes(item.Role)) tabsArray.push(item.Role);\n        });\n\n        // setTabs(Object.entries(tabsObject));\n        setTabs(tabsArray);\n      }\n      ;\n    }\n    return () => mounted = false;\n  }, [items]);\n\n  // Populate and update users from props.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) if (props.users) setUsers(props.users);\n    return () => mounted = false;\n  }, [props.users]);\n\n  // Toggle allChecked.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (users && users.length !== 0 && isChecked.length === users.length) setAllChecked(true);else setAllChecked(false);\n    }\n    return () => mounted = false;\n  }, [isChecked, users]);\n\n  // Set the active tab, when it changes.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (props.activeTab && activeTab !== props.activeTab) {\n        setActiveTab(props.activeTab);\n      }\n    }\n    return () => mounted = false;\n  }, [activeTab, props.activeTab]);\n\n  // Set the active-tab count.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (Array.isArray(props.users)) {\n        let counter = 0;\n        props.users.forEach(user => {\n          if (user.Role === activeTab || activeTab === 'All Roles') counter++;\n        });\n        setActiveTabCount(counter);\n      }\n    }\n    return () => mounted = false;\n  }, [props.users, activeTab]);\n\n  // Show or hide optional actions.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const element = document.getElementById('retried-order-message');\n      if (isChecked.length > 0) {\n        const className = element ? element.getAttribute('class') : '';\n        if (className && !className.includes('hidden')) element.setAttribute('class', `${className}-hidden`);\n        setActiveLink(true);\n      } else {\n        const className = element ? element.getAttribute('class').replace('-hidden', '') : '';\n        if (className) element.setAttribute('class', className);\n        setActiveLink(false);\n      }\n    }\n    return () => mounted = false;\n  }, [isChecked]);\n\n  // Set loggedInUser from local storage.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      setLoggedInUser(JSON.parse(localStorage.getItem('user')));\n    }\n    return () => mounted = false;\n  }, []);\n\n  // Set the activeTabIndex variable.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const activeTabKeyValue = Object.entries(tabs).filter(job => job[1] === formatHeaders(activeTab));\n      if (activeTabKeyValue && activeTabKeyValue.length > 0) setActiveTabIndex(parseInt(activeTabKeyValue[0][0]));\n    }\n    return () => mounted = false;\n  }, [activeTab, tabs]);\n\n  // Set showMessage after a user has been added.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (props.action === 'Add User') setShowMessage(true);\n    }\n    return () => mounted = false;\n  }, [props.action]);\n\n  // Update the vpWidth variable.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const handleResize = () => {\n        setVpWidth(window.innerWidth);\n      };\n      window.addEventListener('resize', handleResize);\n    }\n    return () => mounted = false;\n  }, [vpWidth]);\n\n  // Get the user's available roles for sign-up.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const user = new User(); // Must create a new user inside the useEffect, otherwise the code runs ad nauseum.\n      user.getUserRoles().then(res => {\n        if (res.data) {\n          var _res$data3;\n          const userRoles = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.getUserRoles;\n          setUserRoles(userRoles);\n        } else if (res.name) {\n          setError(res.message);\n        }\n      }, err => {\n        console.error({\n          err\n        });\n      });\n    }\n    return () => mounted = false;\n  }, []);\n  return props.error ?\n  /*#__PURE__*/\n  // Render the sign-in error.\n  _jsxDEV(\"div\", {\n    className: \"signin-error\",\n    children: props.error.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 575,\n    columnNumber: 5\n  }, this) : !props.isLoaded ?\n  /*#__PURE__*/\n  // Render the loading message.\n  _jsxDEV(\"div\", {\n    className: \"loading unprocessed\",\n    children: \"Loading . . . \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 579,\n    columnNumber: 5\n  }, this) : (loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.role) === 'Admin' ?\n  // If the user has the correct permissions, load the page.\n  items ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-actions user\",\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        activeTab: activeTab,\n        tabIndex: activeTabIndex,\n        tabs: tabs,\n        handleClick: handleTabClick,\n        caller: 'user'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats\",\n        children: [tabs.length > 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"order-info-number-display\",\n          children: [\"Tab: \", `${activeTabIndex + 1} of ${tabs.length}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 32\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"order-info-number-display\",\n          children: [\"Selected: \", isChecked.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"order-info-number-display\",\n          children: [\"Count: \", activeTabCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-links\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"link\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: '/login',\n              state: {\n                user: {\n                  id: '',\n                  action: 'Add User',\n                  role: activeTab !== 'All Roles' ? activeTab : ''\n                }\n              }\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 17\n          }, this), activeLink ? /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: '/users',\n              state: {\n                id: isChecked,\n                action: 'Delete User'\n              }\n            },\n            onClick: () => action('deleteUser'),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 19\n          }, this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 13\n      }, this), !activeLink && error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 15\n      }, this) : '', (props.action === 'Delete User' || props.action === 'Add User') && showMessage ? !error ? props.message && !activeLink ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: props.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 19\n      }, this) : props.id && !activeLink ? !Array.isArray(props.id) ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"User #\", props.id, \" has been \", message(props.action), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 21\n      }, this) : props.id.length === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"User #\", props.id[0], \" has been \", message(props.action), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"The following users have been \", message(props.action), \":\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-in-array\",\n          children: props.id.map((id, key) => props.id.length === 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: id\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 31\n          }, this) : key === props.id.length - 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [id, \".\"]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [id, \",\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 49\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 31\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 23\n      }, this) : '' :\n      // There was an error in the action.\n\n      props.id ? !Array.isArray(props.id) ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"The following error occurred when user #\", props.id, \" was \", message(props.action), \": \", error, \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 19\n      }, this) : props.id.length > 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"There was a \\\"\", error, \"\\\" error when the following IDs were \", message(props.action), \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-in-array\",\n          children: props.id.map((id, key) => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: id\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 27\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retried-order-set\",\n        id: \"retried-order-message\",\n        ref: messageRef,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"The following error occurred when user #\", props.id[0], \" was \", message(props.action), \": \", error, \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 21\n      }, this) : '' : '', showDetails ? /*#__PURE__*/_jsxDEV(OrderDetails, {\n        details: orderDetails,\n        closeModal: closeModal,\n        handleBlur: handleBlur,\n        handleClick: handleClick,\n        toggleSelect: toggleSelect,\n        handleRoleSelect: handleRoleSelect,\n        getClassNamesFor: getClassNamesFor,\n        caller: {\n          users: 'user'\n        },\n        userRoles: userRoles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 26\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"header-row\",\n          children: [items.length !== 0 ? /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"checkbox-th\",\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              type: \"checkbox\",\n              name: \"selectAll\",\n              handleClick: handleSelectAll,\n              isChecked: allChecked,\n              value: activeTab ? activeTab : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"hidden-checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 17\n          }, this), formattedHeaders.map((header, key) => vpWidth < 1280 ? header !== 'Email' && header !== 'Date Registered' && header !== 'Last Login' && header !== 'Logged In' && header !== 'Failed Attempts' ? /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => requestSort(header.split(' ').join('')),\n            className: getClassNamesFor(header.split(' ').join('')),\n            children: header\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 21\n          }, this) : null : /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => requestSort(header.split(' ').join('')),\n            className: getClassNamesFor(header.split(' ').join('')),\n            children: header === 'Failed Attempts' ? 'Failed' : header === 'Date Registered' ? 'Registered' : header\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: items.map((item, key) => {\n          return item.Role === activeTab || activeTab === 'All Roles' ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"select-one\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                type: \"checkbox\",\n                name: item.Id,\n                value: item.Id ? item.Id : '',\n                handleClick: handleSelect,\n                isChecked: isChecked.includes(item.Id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"user-link\",\n              children: vpWidth < 1280 ? /*#__PURE__*/_jsxDEV(Link, {\n                to: \"#\",\n                onClick: () => action('showDetails', item, key),\n                children: item.Id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 23\n              }, this) : item.Id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"editable\",\n              suppressContentEditableWarning: \"true\",\n              \"data-default-value\": item.Name,\n              id: `Name-${key}`,\n              onBlur: e => handleBlur(item.Id, key, 'Name', e, null, item.Email),\n              onClick: e => handleClick(e.target, key, 'Name'),\n              children: item.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"desktop\",\n              children: item.Email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"editable select-container\",\n              id: `select-role-${key}`,\n              name: \"role\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"role-option default\",\n                id: `user-role-${key}`,\n                \"data-default-value\": item.Role,\n                onClick: () => toggleSelect(key),\n                children: roleName && parseInt(roleName.key) === key ? roleName.roleName : item.Role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 21\n              }, this), userRoles.map((value, idx) => /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"role-option\",\n                id: `Role-${idx}`,\n                \"data-value\": value.Id,\n                onClick: e => handleRoleSelect(e, idx, key, item),\n                children: value.Role\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 803,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"desktop\",\n              children: item.DateRegistered ? new Date(parseInt(item.DateRegistered)).toISOString().split('T')[0] : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"desktop\",\n              children: item.LastLogin ? new Date(parseInt(item.LastLogin)).toISOString().split('T')[0] : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"desktop\",\n              children: item.LoggedIn ? 'Yes' : 'No'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"desktop\",\n              children: item.FailedAttempts ? item.FailedAttempts : 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.Active ? 'Yes' : 'No'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 19\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 17\n          }, this) : null;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 585,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"No users have been registered for this service.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 844,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"role-denied\",\n    children: [\"Your profile's assigned role of \\\"\", loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.role, \"\\\" does not allow you to access this page.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 849,\n    columnNumber: 5\n  }, this);\n};\n_s(Users, \"fsaA9fZTzGjm7sX77thlanQTloM=\", false, function () {\n  return [useSort];\n});\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Link","formatHeaders","useSort","Checkbox","User","selectElementContents","getType","logChange","OrderDetails","Tabs","jsxDEV","_jsxDEV","Users","props","_s","tabs","setTabs","allChecked","setAllChecked","isChecked","setIsChecked","users","setUsers","userRoles","setUserRoles","activeTab","setActiveTab","activeTabIndex","setActiveTabIndex","activeTabCount","setActiveTabCount","activeLink","setActiveLink","showMessage","setShowMessage","error","setError","loggedInUser","setLoggedInUser","JSON","parse","localStorage","getItem","newValue","setNewValue","orderDetails","setOrderDetails","showDetails","setShowDetails","roleName","setRoleName","vpWidth","setVpWidth","window","innerWidth","messageRef","clickLocation","clickCount","prevElement","dataType","changeDate","updated","user","tableHeaders","length","Object","keys","formattedHeaders","items","requestSort","sortConfig","getClassNamesFor","name","className","key","direction","undefined","filter","header","console","log","handleTabClick","event","next","chosenButtonValue","preventDefault","target","value","handleClick","handleSelectAll","tab","activeItems","item","RoleId","map","Id","handleSelect","checked","action","path","idx","scrollTo","top","behavior","ids","filteredRows","row","includes","forEach","push","deleteUser","then","res","data","_res$data","_res$data$deleteUser","signOut","setItem","liftData","err","match","id","message","recall","alert","sessionStorage","pastTenseVerb","column","currentValue","textContent","defaultValue","dataset","element","document","getElementById","current","_prevElement$current","_prevElement$current2","tempElement","innerHTML","removeAttribute","setAttribute","handleBlur","userId","rowName","_event$target","_event$target$dataset","_event$target2","_event$target3","prevValue","table","stringify","columnName","ColumnName","type","DataType","typeNewValue","indexOf","MaxLength","test","scrollIntoViewIfNeeded","inline","closeModal","toggleSelect","options","children","values","option","classList","toggle","handleRoleSelect","caller","remove","Role","Email","mounted","userRole","operation","role","updateUser","_res$data$operation","valueType","Error","setTimeout","_res$data2","_res$data2$logChange","changeDateTime","DateTime","errors","errorString","tabsArray","tempTabs","sort","a","b","one","parseInt","two","Array","isArray","counter","getAttribute","replace","activeTabKeyValue","entries","job","handleResize","addEventListener","getUserRoles","_res$data3","fileName","_jsxFileName","lineNumber","columnNumber","isLoaded","tabIndex","to","pathname","state","onClick","ref","details","split","join","suppressContentEditableWarning","Name","onBlur","e","DateRegistered","Date","toISOString","LastLogin","LoggedIn","FailedAttempts","Active","_c","$RefreshReg$"],"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/pages/users/user.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport formatHeaders from '../../hooks/format-headers';\nimport useSort from '../../hooks/sort-data';\nimport Checkbox from '../../components/checkbox';\nimport User from '../../hooks/get-user';\nimport selectElementContents from '../../hooks/select-all';\nimport getType from '../../hooks/get-type';\nimport logChange from '../../hooks/log-change';\nimport OrderDetails from '../../components/order-details';\nimport Tabs from '../../components/tabs';\n\nconst Users = (props) => {\n  const [tabs, setTabs] = useState([]);\n  const [allChecked, setAllChecked] = useState(false);\n  const [isChecked, setIsChecked] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [userRoles, setUserRoles] = useState([]);\n  const [activeTab, setActiveTab] = useState('All Roles');\n  const [activeTabIndex, setActiveTabIndex] = useState(0);\n  const [activeTabCount, setActiveTabCount] = useState(0);\n  const [activeLink, setActiveLink] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const [error, setError] = useState('');\n  const [loggedInUser, setLoggedInUser] = useState(JSON.parse(localStorage.getItem('user')));\n  const [newValue, setNewValue] = useState({});\n  const [orderDetails, setOrderDetails] = useState({});\n  const [showDetails, setShowDetails] = useState(false);\n  const [roleName, setRoleName] = useState(null);\n  const [vpWidth, setVpWidth] = useState(window.innerWidth);\n  const messageRef = useRef('');\n  const clickLocation = useRef('');\n  const clickCount = useRef(0);\n  const prevElement = useRef('');\n  const dataType = useRef({}); // => dataType.current = {ColumnName, DataType, MaxLength}\n  const changeDate = useRef('');\n  const updated = useRef(false);\n  const user = new User();\n  let tableHeaders = props.users.length > 0 ? Object.keys(props.users[0]) : [], formattedHeaders = [];\n  let { items, requestSort, sortConfig } = useSort(users, 'users');\n  const getClassNamesFor = useCallback(name => {\n    if (!sortConfig) return;\n    let className = 'Name' === name || 'Role' === name ? 'header-editable' : '';\n    className = sortConfig.key === name ? sortConfig.direction + ' ' + className : className;\n    return className ? className : undefined;\n  }, [sortConfig]);\n\n  // Format the table headers.\n  if (tableHeaders.length > 0) {\n    // Remove RoleId from the headers before formatting.\n    tableHeaders = tableHeaders.filter(header => header !== 'RoleId');\n    formattedHeaders = formatHeaders(tableHeaders, 'Error');\n  }\n\n  console.log({formattedHeaders})\n\n  // // Handles the selection and formatting of the page's tabs.\n  const handleTabClick = (event, next) => {\n    let chosenButtonValue;\n\n    if (event) {\n      event.preventDefault();\n      chosenButtonValue = event.target.value;\n    } else chosenButtonValue = next;\n    setActiveTab(chosenButtonValue);\n    setActiveLink(false);\n    props.handleClick(chosenButtonValue);\n    setIsChecked([]);\n  };\n  \n  // Handles the toggling of the select-all checkbox.\n  const handleSelectAll = event => {\n    const tab = event.target.value;\n    const activeItems = items.filter(item => item.RoleId === activeTab || 0 === activeTab);\n    \n    if (tab === activeTab) setAllChecked(!allChecked);\n    setIsChecked(activeItems.map(item => item.Id));\n    setAllChecked(!allChecked);\n    if (allChecked) setIsChecked([]);\n  };\n\n  // Handles the toggling of individual checkboxes.\n  const handleSelect = event => {\n    const { value, checked } = event.target;\n    setIsChecked([...isChecked, value]);\n    if (!checked) setIsChecked(isChecked.filter(item => item !== value));\n  };\n  \n  // Handles the action initiated by the user.\n  const action = (path, item, idx) => {\n    if (path === 'showDetails') {\n      item.idx = idx;\n      setOrderDetails(item);\n      setShowDetails(true);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } else if (isChecked.length !== 0) {\n      const ids = [];\n      const filteredRows = users.filter(row => isChecked.includes(row.Id));\n      filteredRows.forEach(row => ids.push(row.Id));\n\n      // This feature deletes the user.\n      if (ids.length > 0) {\n        user.deleteUser(path, ids).then(\n          res => {\n            if (res.data) {// IDs of deleted users are being returned but not currently used.\n              setError('');\n              setShowMessage(true);\n\n              // Log the user out if all users are deleted or if the signed-in user is deleted.\n              if (res.data?.deleteUser?.length === users.length) { // All users were deleted.\n                user.signOut().then(\n                  () => {\n                    localStorage.setItem('user', null);\n                    props.liftData(0, 'user', false);\n                  },\n                  err => { console.error(err); }\n                )\n              } else { // Not all users were deleted: if the user deleted herself, sign her out.\n                const match = ids.filter(id => id === loggedInUser.id);\n                \n                if (match.length === 1) {\n                  user.signOut().then(\n                    () => { \n                      localStorage.setItem('user', null);\n                      props.liftData(0, 'user', false);  \n                     },\n                    err => { console.error(err); }\n                  )\n                }\n              }\n\n            } else if (res.name) {\n              console.error('Error: ', res.message);\n              setError(res.message);\n              setShowMessage(true);\n            }\n\n            props.recall(path);\n          },\n          err => {\n            console.error({err});\n            setError(err.message);\n          }\n        );\n      }\n\n      setIsChecked([]);\n      setAllChecked(false);\n    } else alert('Please tick a user.');\n    \n    // Store a flag in storage to indicate that a new action has been initiated.\n    sessionStorage.setItem('action', true);\n  };\n\n  // Generates the message to show the user after an action has been initiated.\n  const message = (action) => {\n    let pastTenseVerb;\n    if (action && action === 'Delete User') {\n      pastTenseVerb = 'deleted';\n    }\n    if (action && action === 'Add User') {\n      pastTenseVerb = 'added';\n    }\n    return pastTenseVerb;\n  };\n\n  // Helps manage the editing of editable fields.\n  const handleClick = (event, row, column) => {\n    let currentValue = event.textContent;\n    let defaultValue = event.dataset.defaultValue;\n    const element = document.getElementById(`${column}-${row}`);\n    \n    if (clickLocation.current !== event.id) {\n      clickCount.current = 0;\n      if (element) { // Restore the element's previous value if unclicked.\n        const id = prevElement ? prevElement?.current?.id : '';\n        const value = id ? prevElement?.current?.value : '';\n        const tempElement = id ? document.getElementById(id) : '';\n        if (tempElement && value) document.getElementById(id).innerHTML = value;\n        prevElement.current = '';\n      }\n    }\n    \n    if (clickCount.current <= 1 && vpWidth >= 1024) selectElementContents(element); // Selects all content in the field.\n    if (defaultValue !== currentValue) { // Replace errors in entries with the previous text; also, check unchecked boxes for the DateEnabled field.\n      element.textContent = defaultValue;\n      element.removeAttribute('style');\n    } else {\n      element.setAttribute('contentEditable', 'true');\n      updated.current = false;\n    }\n\n    clickCount.current++;\n    clickLocation.current = event.id;\n  };\n\n  // Handles user edits.\n  const handleBlur = (userId, row, column, event, idx, rowName) => {\n    let prevValue = 'Role' !== column ? event?.target?.dataset?.defaultValue : prevElement.current;\n    const newValue = 'Role' !== column ? event?.target?.textContent : event?.target?.textContent;\n    const table = 'Users';\n    const element = 'Role' !== column ? document.getElementById(`${column}-${row}`) : null;\n\n    if (prevValue === newValue) {\n      if (element) element.removeAttribute('contentEditable');\n      return;\n    }\n\n    // Get the column's configuration from the DB.\n    if (table && column) {\n      getType(table, column).then(\n        res => {\n          dataType.current = res;\n\n          // Check the input against type and length.\n          if (JSON.stringify(dataType.current) !== '{}') {\n            if (newValue) {\n              const columnName = dataType.current.ColumnName;\n              if (columnName === column) {\n                const type = dataType.current.DataType;\n                let typeNewValue = 'Role' === column ? typeof tabs.indexOf(newValue) : typeof newValue;\n                                        \n                if (type === typeNewValue) {\n                  if (dataType.current.MaxLength > newValue.length || !dataType.current.MaxLength || -1 === dataType.current.MaxLength) {\n                    if (prevValue !== newValue) {\n                      if (!/<\\/?[a-z][\\s\\S]*>/i.test(newValue)) { // Check that no html is being introduced.\n                        items[row][column] = newValue ? newValue : 'None'; \n                        setNewValue({ \n                          id: userId, \n                          row, \n                          column, \n                          prevValue, \n                          newValue: newValue, \n                          idx,\n                          rowName\n                        });\n                        updated.current = false;\n\n                        if (element) {\n                          element.textContent = newValue ? newValue : 'None';\n                        }\n                      } else {\n                        element.setAttribute('style', 'color: red');\n                        element.textContent = 'There is html in the new value. Please revise your input and resubmit.';\n                        element.scrollIntoViewIfNeeded({behavior:'smooth', inline:'start'});\n                      }\n                    } \n                  }\n                } else {\n                  element.setAttribute('style', 'color: red');\n                  element.textContent = `The new value's datatype (${typeof newValue}) doesn't match the databases's data type (${type}).`;\n                  element.scrollIntoViewIfNeeded({behavior:'smooth', inline:'start'});\n                }\n              }\n            } else {\n              element.textContent = prevValue;\n            }\n          }\n        },\n        err => { console.error({err}); }\n      );\n    }\n  };\n  \n  // Close the modal on click of the X.\n  const closeModal = () => {\n    setShowDetails(false);\n    setIsChecked([]);\n    clickCount.current = 0;\n  };\n\n  // Toggle the roles' dropdown menu.\n  const toggleSelect = (key) => {\n    const options = document.getElementById(`select-role-${key}`).children;\n\n    if (options) {\n      Object.values(options).forEach(option => {\n        if (option.id) {\n          if (!option.id.includes('user-role')) {\n            option.classList.toggle('show-option');\n          } else {\n            option.classList.toggle('fade-default')\n          }\n        }\n      });\n    }\n\n    setRoleName(null);\n  };\n  \n  // Capture the user's role.\n  const handleRoleSelect = (event, idx, key, item, caller) => {\n    const roleName = event.target.textContent;\n    const options = document.getElementById(`select-role-${key}`).children;\n\n    if (options) {\n      Object.values(options).forEach(option => {\n        if (option.id) {\n          if (!option.id.includes('user-role')) {\n            option.classList.remove('show-option');\n          } else {\n            option.classList.remove('fade-default')\n          }\n        }\n      });\n    }\n\n    setRoleName({key, roleName});\n    prevElement.current = item.Role;\n    handleBlur(item.Id, caller === 'modal' ? idx : key, 'Role', event, idx, item.Email);\n  };\n  \n  // Send updates to the db for edited fields.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const element = newValue.column !== 'Role' ? document.getElementById(`${newValue.column}-${newValue.row}`) : document.getElementById(`user-role-${newValue.row}`);\n      let userRole;\n      \n      if (JSON.stringify(newValue) !== '{}' && !updated.current) {\n        const operation = 'userUpdate';\n        const user = new User();\n\n        if ('Role' === newValue.column) {\n          userRoles.forEach(role => {\n            if (role.Role === newValue.newValue) userRole = role.Id;\n          });\n        }\n        \n        user.updateUser(operation, newValue.id, newValue.column, userRole ? userRole : newValue.newValue).then(\n          res => {\n            if (res.data) {\n              let value = res.data[operation] ? res.data[operation][newValue.column] : '';\n              const valueType = 10; // 10 === 'string' in the AppParamsValueType table.\n              const error = res.data[operation]?.Error;\n    \n              if (typeof value === 'number') value = JSON.stringify(value);\n              if (value) {\n                if ('Role' === newValue.column) {\n                  userRoles.forEach(role => {\n                    if (role.Id === value) value = role.Role;\n                  });\n                }\n                \n                if (value === newValue.newValue) {\n                  if (element) {\n                    if (loggedInUser.id === newValue.id) { // The current user is being modified and needs to be updated in storage.\n                      if (newValue.column === 'Role') loggedInUser.role = newValue.newValue;\n                      else if (newValue.column === 'Name') loggedInUser.name = newValue.newValue;\n\n                      setLoggedInUser(loggedInUser);\n                      localStorage.setItem('user', JSON.stringify(loggedInUser));\n                    }\n                    \n                    element.removeAttribute('contentEditable');\n                    element.setAttribute('data-default-value', newValue.newValue);\n                    element.scrollIntoViewIfNeeded({behavior:'smooth', inline:'start'});\n                    element.classList.toggle('edited');\n                    \n                    setTimeout(() => {\n                      element.classList.toggle('edited');\n                      updated.current = true;\n\n                      if ('Role' === newValue.column) props.recall(); // Recall the API to get the right user tabs after a role change.\n                    }, 2000);\n                  }\n\n                  console.log({newValue});\n\n                  // Log the change to the database.\n                  logChange('Users', newValue.rowName, newValue.column, newValue.id, newValue.prevValue, newValue.newValue, valueType).then(\n                    res => {\n                      if (res.data) {\n                        const changeDateTime = res.data?.logChange?.DateTime;\n                        changeDate.current = changeDateTime;\n                        setNewValue({}); \n                      } else if (res.errors) {\n                        console.error(res.errors);\n                      }\n                    },\n                    err => { console.error({err}); }\n                  );\n                }\n              } else if (error) {\n                element.textContent = error + ' Please correct your input.';\n                element.setAttribute('style', 'color:red');\n              }\n            } else if (res.name) {\n              setError(res.name);\n            } else if (res?.errors) {\n              let errorString = '';\n\n              if (res.errors.length > 0 && res.errors.length < 2) {\n                errorString = res.errors[0].message;\n              } else if (res.errors.length >= 2) {\n                res.errors.forEach((error, idx) => {\n                  if (idx === 0) errorString += error.message;\n                  else if (idx === res.errors.length - 1) errorString += ', ' + error.message;\n                  else errorString += ', ' + error.message;\n                });\n              }\n\n              if (errorString) {\n                element.textContent = errorString + ' Please correct your input.';\n                element.setAttribute('style', 'color:red; white-space:pre-wrap');\n              }\n            }\n          },\n          err => { console.error({err}) }\n        );\n      }\n    }\n    \n    return () => mounted = false;\n  }, [loggedInUser, newValue, userRoles, props]);\n\n  // Get the tabs for the page.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (items.length > 0) {\n        // const tabsObject = {'All Roles': 0};\n        const tabsArray = ['All Roles'];\n        let tempTabs = [...items];\n                \n        // Sort the array by role ID, so that the tabs will always be in the same order.\n        tempTabs.sort((a, b) => {\n          const one = parseInt(a.RoleId);\n          const two = parseInt(b.RoleId);\n        \n          return one > two ? 1 : -1;\n        });\n  \n        // Reduce the array of tempTabs to unique ones only.\n        tempTabs.forEach(item => {\n          // tabsObject[item.Role] = item.RoleId;\n          if (!tabsArray.includes(item.Role)) tabsArray.push(item.Role);\n        });\n  \n        // setTabs(Object.entries(tabsObject));\n        setTabs(tabsArray);\n\n      };\n    }\n    return () => mounted = false;\n  }, [items]);\n  \n  // Populate and update users from props.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) if (props.users) setUsers(props.users);\n    return () => mounted = false;\n  }, [props.users]);\n  \n  // Toggle allChecked.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (users && users.length !== 0 && isChecked.length === users.length) setAllChecked(true);\n      else setAllChecked(false);\n    }\n    return () => mounted = false;\n  }, [isChecked, users]);\n  \n  // Set the active tab, when it changes.\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      if (props.activeTab && activeTab !== props.activeTab) {\n        setActiveTab(props.activeTab);\n      }\n    }\n\n    return () => mounted = false;\n  }, [activeTab, props.activeTab]);\n  \n  // Set the active-tab count.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (Array.isArray(props.users)) {\n        let counter = 0;\n        props.users.forEach(user => {\n          if (user.Role === activeTab || activeTab === 'All Roles') counter++;\n        });\n        setActiveTabCount(counter);\n      }\n    }\n    return () => mounted = false;\n  }, [props.users, activeTab]);\n  \n  // Show or hide optional actions.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const element = document.getElementById('retried-order-message');\n      if (isChecked.length > 0) {\n        const className = element ? element.getAttribute('class') : '';        \n        if (className && !className.includes('hidden')) element.setAttribute('class', `${className}-hidden`);\n        setActiveLink(true);\n      } else {\n        const className = element ? element.getAttribute('class').replace('-hidden', '') : ''; \n        if (className) element.setAttribute('class', className);\n        setActiveLink(false);\n      }\n    }\n    return () => mounted = false;\n  }, [isChecked]);\n  \n  // Set loggedInUser from local storage.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      setLoggedInUser(JSON.parse(localStorage.getItem('user')));\n    }\n    return () => mounted = false;\n  }, []);\n\n  // Set the activeTabIndex variable.\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      const activeTabKeyValue = Object.entries(tabs).filter(job => job[1] === formatHeaders(activeTab));\n      if (activeTabKeyValue && activeTabKeyValue.length > 0) setActiveTabIndex(parseInt(activeTabKeyValue[0][0]));\n    }\n\n    return () => mounted = false;\n  }, [activeTab, tabs]);\n\n  // Set showMessage after a user has been added.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      if (props.action === 'Add User') setShowMessage(true)\n    }\n    return () => mounted = false;\n  }, [props.action]);\n  \n  // Update the vpWidth variable.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const handleResize = () => {\n        setVpWidth(window.innerWidth);\n      }\n      window.addEventListener('resize', handleResize)\n    }\n    return () => mounted = false;\n  }, [vpWidth]);\n  \n  // Get the user's available roles for sign-up.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const user = new User(); // Must create a new user inside the useEffect, otherwise the code runs ad nauseum.\n      user.getUserRoles().then(\n        res => {\n          if (res.data) {\n            const userRoles = res.data?.getUserRoles;\n            setUserRoles(userRoles);\n          } else if (res.name) {\n            setError(res.message);\n          }\n        },\n        err => { console.error({err}); }\n      );\n    }\n    return () => mounted = false;\n  }, []);\n  \n  return props.error ? \n  ( // Render the sign-in error.\n    <div className=\"signin-error\">{props.error.message}</div>\n  ) \n  : !props.isLoaded ? \n  (  // Render the loading message.\n    <div className=\"loading unprocessed\">Loading . . . </div>\n  ) \n  : loggedInUser?.role === 'Admin' ?\n  ( // If the user has the correct permissions, load the page.\n    items ?\n    (\n      <div className='user-container'>\n        <div className=\"order-actions user\">\n          <Tabs activeTab={activeTab} tabIndex={activeTabIndex} tabs={tabs} handleClick={handleTabClick} caller={'user'} />\n        </div>\n        <div className=\"order-info\">\n          <div className='stats'>\n            {tabs.length > 1 ? <p className=\"order-info-number-display\">Tab: {`${activeTabIndex + 1} of ${tabs.length}`}</p> : null}\n            <p className=\"order-info-number-display\">Selected: {isChecked.length}</p>\n            <p className=\"order-info-number-display\">Count: {activeTabCount}</p>\n          </div>\n            <div className='action-links'>\n              <form className='link'>\n                <Link\n                  to={{\n                    pathname: '/login',\n                    state: {\n                      user: {\n                        id: '',\n                        action: 'Add User',\n                        role: activeTab !== 'All Roles' ? activeTab : ''\n                      }\n                    },\n                  }}\n                  >\n                  Add\n                </Link>\n                {activeLink ? (\n                  <Link\n                    to={{\n                      pathname: '/users',\n                      state: {\n                        id: isChecked,\n                        action: 'Delete User',\n                      },\n                    }}\n                    onClick={() => action('deleteUser')}\n                  >\n                    Delete\n                  </Link>\n                ) : (\n                  ''\n                )}\n              </form>\n            </div>\n            {!activeLink && error ? (\n              <div>Error: {error}</div>\n            ) : (\n              ''\n            )}\n            {(props.action === 'Delete User' || props.action === 'Add User') && showMessage ? \n            (\n              !error ? \n              (\n                props.message && !activeLink ?\n                (\n                  <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                    <p>{props.message}</p>\n                  </div>\n                ) : props.id && !activeLink ? \n                (\n                  !Array.isArray(props.id) ? \n                  (\n                    <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                      <p>User #{props.id} has been {message(props.action)}.</p>\n                    </div>\n                  ) \n                  : \n                  (\n                    props.id.length === 1 ? \n                    (\n                      <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                        <p>User #{props.id[0]} has been {message(props.action)}.</p>\n                      </div>\n                    ) \n                    : \n                    (\n                      <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                        <p>The following users have been {message(props.action)}:&nbsp;</p>\n                        <div className='orders-in-array'>\n                          {props.id.map((id, key) => (\n                            props.id.length === 1 ?\n                            (\n                              <p key={key}>{id}</p>\n                            )\n                            : key === props.id.length - 1 ?\n                            (\n                              <p key={key}>{id}.</p>\n                            )\n                            :\n                            (\n                              <p key={key}>{id},<span>&nbsp;</span></p>\n                            )\n                            ))}\n                        </div>\n                      </div>\n                    )\n                  )\n                ) : ( \n                  '' \n                )\n              ) \n              : // There was an error in the action.\n              ( \n              props.id ? \n              (\n                !Array.isArray(props.id) ? \n                (\n                  <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                    <p>The following error occurred when user #{props.id} was {message(props.action)}: {error}.</p>\n                  </div>\n                ) : (\n                  props.id.length > 1 ?\n                  (\n                    <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                      <p>There was a \"{error}\" error when the following IDs were {message(props.action)}:</p>\n                      <div className='orders-in-array'>\n                        {props.id.map((id, key) => (\n                          <p key={key}>{id}</p>))}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"retried-order-set\" id=\"retried-order-message\" ref={messageRef}>\n                      <p>The following error occurred when user #{props.id[0]} was {message(props.action)}: {error}.</p>\n                    </div>\n                  )\n                )\n              ) : (\n                ''\n              )\n            )\n          ) : (\n            ''\n          )}\n          {showDetails ? <OrderDetails details={orderDetails} closeModal={closeModal} handleBlur={handleBlur} handleClick={handleClick} toggleSelect={toggleSelect} handleRoleSelect={handleRoleSelect} getClassNamesFor={getClassNamesFor} caller={{ users: 'user' }} userRoles={userRoles} /> : null}\n        </div>\n        <table>\n          <thead>\n            <tr className=\"header-row\">\n              {items.length !== 0 ? (\n                <th className='checkbox-th'>\n                  <Checkbox\n                    type='checkbox'\n                    name='selectAll'\n                    handleClick={handleSelectAll}\n                    isChecked={allChecked}\n                    value={activeTab ? activeTab : ''}\n                  />\n                </th>\n              ) : (\n                <th className='hidden-checkbox'></th>\n              )}\n              {formattedHeaders.map((header, key) => (\n                vpWidth < 1280 ?\n                (\n                  header !== 'Email' && header !== 'Date Registered' && header !== 'Last Login' && header !== 'Logged In' && header !== 'Failed Attempts' ?\n                  (\n                    <th\n                      key={key}\n                      onClick={() => requestSort(header.split(' ').join(''))}\n                      className={getClassNamesFor(header.split(' ').join(''))}\n                    >\n                      {header}\n                    </th>\n                  )\n                  :\n                  (\n                    null\n                  )\n                )\n                :\n                (\n                  <th\n                    key={key}\n                    onClick={() => requestSort(header.split(' ').join(''))}\n                    className={getClassNamesFor(header.split(' ').join(''))}\n                  >\n                    {header === 'Failed Attempts' ? 'Failed' : header === 'Date Registered' ? 'Registered' : header}\n                  </th>\n                )\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, key) => {\n              return item.Role === activeTab || activeTab === 'All Roles' ? \n              (\n                <tr key={key}>\n                  <td className='select-one'>\n                    <Checkbox\n                      type='checkbox'\n                      name={item.Id}\n                      value={item.Id ? item.Id : ''}\n                      handleClick={handleSelect}\n                      isChecked={isChecked.includes(item.Id)}\n                    />\n                  </td>\n                  <td className='user-link'>\n                    {vpWidth < 1280 ? (\n                      <Link to='#' onClick={() => action('showDetails', item, key)} >\n                        {item.Id}\n                      </Link>\n                    )\n                    :\n                    (\n                      item.Id\n                    )}\n                  </td>\n                  <td\n                    className=\"editable\"\n                    suppressContentEditableWarning=\"true\"\n                    data-default-value={item.Name}\n                    id={`Name-${key}`}\n                    onBlur={(e) => handleBlur(item.Id, key, 'Name', e, null, item.Email)}\n                    onClick={(e) => handleClick(e.target, key, 'Name')}\n                  >\n                    {item.Name}\n                  </td>\n                  <td className='desktop'>{item.Email}</td>\n                  <td className='editable select-container' id={`select-role-${key}`} name='role'>\n                    <p \n                      className='role-option default' \n                      id={`user-role-${key}`}\n                      data-default-value={item.Role}\n                      onClick={() => toggleSelect(key)}\n                    >\n                      {roleName && parseInt(roleName.key) === key ? roleName.roleName : item.Role}\n                    </p>\n                    {userRoles.map((value, idx) => (\n                      <p \n                        className='role-option' \n                        id={`Role-${idx}`}\n                        key={idx} \n                        data-value={value.Id} \n                        onClick={(e) => handleRoleSelect(e, idx, key, item)}\n                      >\n                        {value.Role}\n                      </p>\n                    ))}\n                  </td>\n                  <td className='desktop'>\n                    {item.DateRegistered ? new Date(parseInt(item.DateRegistered)).toISOString().split('T')[0] : 'N/A'}\n                  </td>\n                  <td className='desktop'>\n                    {item.LastLogin ? new Date(parseInt(item.LastLogin)).toISOString().split('T')[0] : 'N/A'}\n                  </td>\n                  <td className='desktop'>{item.LoggedIn ? 'Yes' : 'No'}</td>\n                  <td className='desktop'>{item.FailedAttempts ? item.FailedAttempts : 0}</td>\n                  <td>{item.Active ? 'Yes' : 'No'}</td>\n                </tr>\n              ) : (\n                null\n              )\n              })}\n          </tbody>\n        </table>\n      </div>\n    ) \n    : \n    ( \n      <p>No users have been registered for this service.</p>\n    )\n  ) \n  : \n  (\n    <div className=\"role-denied\">Your profile's assigned role of \"{loggedInUser?.role}\" does not allow you to access this page.</div>\n  )\n}\n\nexport default Users;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}