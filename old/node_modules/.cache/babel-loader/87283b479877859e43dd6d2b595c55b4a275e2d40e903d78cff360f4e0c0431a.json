{"ast":null,"code":"import apiCall from './api-call';\nexport default async function logChange(table, column, userId, prevValue, newValue, dataType) {\n  if (!column || !userId) return;\n  if (typeof dataType === 'number') dataType = dataType.toString();\n  const operation = 'logChange';\n  const query = `query ${operation}($table: String!, $column: String!, $userId: Int!, $prevValue: String, $newValue: String, $dataType: String!) {${operation}(table: $table, column: $column, userId: $userId, prevValue: $prevValue, newValue: $newValue, dataType: $dataType) {Id, TableName, ColumnName, PrevValue, NewValue, DataType, DateTime, Error}}`;\n  const variables = {\n    table,\n    column,\n    userId: parseInt(userId),\n    prevValue,\n    newValue,\n    dataType\n  };\n  return await apiCall(operation, query, variables).then(res => {\n    return res;\n  }, err => {\n    console.error(err);\n  });\n}","map":{"version":3,"names":["apiCall","logChange","table","column","userId","prevValue","newValue","dataType","toString","operation","query","variables","parseInt","then","res","err","console","error"],"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/hooks/log-change.js"],"sourcesContent":["import apiCall from './api-call';\n\nexport default async function logChange(table, column, userId, prevValue, newValue, dataType) {  \n  if (!column || !userId) return;\n  if (typeof dataType === 'number' ) dataType = dataType.toString();\n  \n  const operation = 'logChange';\n  const query = `query ${operation}($table: String!, $column: String!, $userId: Int!, $prevValue: String, $newValue: String, $dataType: String!) {${operation}(table: $table, column: $column, userId: $userId, prevValue: $prevValue, newValue: $newValue, dataType: $dataType) {Id, TableName, ColumnName, PrevValue, NewValue, DataType, DateTime, Error}}`;\n  const variables = { table, column, userId: parseInt(userId), prevValue, newValue, dataType };\n  \n  return await apiCall(operation, query, variables).then(\n    res => { return res },\n    err => { console.error(err); }\n  );\n}\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,YAAY;AAEhC,eAAe,eAAeC,SAASA,CAACC,KAAK,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAC5F,IAAI,CAACJ,MAAM,IAAI,CAACC,MAAM,EAAE;EACxB,IAAI,OAAOG,QAAQ,KAAK,QAAQ,EAAGA,QAAQ,GAAGA,QAAQ,CAACC,QAAQ,CAAC,CAAC;EAEjE,MAAMC,SAAS,GAAG,WAAW;EAC7B,MAAMC,KAAK,GAAI,SAAQD,SAAU,kHAAiHA,SAAU,iMAAgM;EAC5V,MAAME,SAAS,GAAG;IAAET,KAAK;IAAEC,MAAM;IAAEC,MAAM,EAAEQ,QAAQ,CAACR,MAAM,CAAC;IAAEC,SAAS;IAAEC,QAAQ;IAAEC;EAAS,CAAC;EAE5F,OAAO,MAAMP,OAAO,CAACS,SAAS,EAAEC,KAAK,EAAEC,SAAS,CAAC,CAACE,IAAI,CACpDC,GAAG,IAAI;IAAE,OAAOA,GAAG;EAAC,CAAC,EACrBC,GAAG,IAAI;IAAEC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;EAAE,CAC/B,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}