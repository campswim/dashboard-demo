{"ast":null,"code":"import axios from 'axios';\nexport default async function apiCall(operation, query, variables, token) {\n  const url = process.env.REACT_APP_ENV === 'production-manual' ? process.env.REACT_APP_API_MANUAL : process.env.REACT_APP_ENV === 'production-auto' ? process.env.REACT_APP_API_AUTO : window.location.href.includes('localhost:3001') ? process.env.REACT_APP_API_LOCAL : process.env.REACT_APP_API_DEV;\n  const graphQlQuery = {\n    operation,\n    query,\n    variables\n  };\n  const options = {\n    method: 'POST',\n    url: url,\n    data: JSON.stringify(graphQlQuery),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  };\n  if (token) options.headers.Authorization = `Bearer ${token}`;\n  return await axios.request(options).then(res => {\n    return res.data;\n  }, err => {\n    return err;\n  });\n}","map":{"version":3,"names":["axios","apiCall","operation","query","variables","token","url","process","env","REACT_APP_ENV","REACT_APP_API_MANUAL","REACT_APP_API_AUTO","window","location","href","includes","REACT_APP_API_LOCAL","REACT_APP_API_DEV","graphQlQuery","options","method","data","JSON","stringify","headers","withCredentials","Authorization","request","then","res","err"],"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/hooks/api-call.js"],"sourcesContent":["import axios from 'axios';\n\nexport default async function apiCall(operation, query, variables, token) {\n  const url = process.env.REACT_APP_ENV === 'production-manual' ? \n      process.env.REACT_APP_API_MANUAL \n    : process.env.REACT_APP_ENV === 'production-auto' ? \n      process.env.REACT_APP_API_AUTO \n    : window.location.href.includes('localhost:3001') ? \n      process.env.REACT_APP_API_LOCAL \n    : process.env.REACT_APP_API_DEV;\n  const graphQlQuery = {\n    operation,\n    query,\n    variables\n  };\n  \n  const options = {\n    method: 'POST',\n    url: url,\n    data: JSON.stringify(graphQlQuery),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    withCredentials: true\n  };\n\n  if (token) options.headers.Authorization = `Bearer ${token}`;\n\n  return await axios.request(options).then(\n    res => { return res.data },\n    err => { return err; }\n  );\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe,eAAeC,OAAOA,CAACC,SAAS,EAAEC,KAAK,EAAEC,SAAS,EAAEC,KAAK,EAAE;EACxE,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,aAAa,KAAK,mBAAmB,GACzDF,OAAO,CAACC,GAAG,CAACE,oBAAoB,GAChCH,OAAO,CAACC,GAAG,CAACC,aAAa,KAAK,iBAAiB,GAC/CF,OAAO,CAACC,GAAG,CAACG,kBAAkB,GAC9BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,QAAQ,CAAC,gBAAgB,CAAC,GAC/CR,OAAO,CAACC,GAAG,CAACQ,mBAAmB,GAC/BT,OAAO,CAACC,GAAG,CAACS,iBAAiB;EACjC,MAAMC,YAAY,GAAG;IACnBhB,SAAS;IACTC,KAAK;IACLC;EACF,CAAC;EAED,MAAMe,OAAO,GAAG;IACdC,MAAM,EAAE,MAAM;IACdd,GAAG,EAAEA,GAAG;IACRe,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,YAAY,CAAC;IAClCM,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,eAAe,EAAE;EACnB,CAAC;EAED,IAAIpB,KAAK,EAAEc,OAAO,CAACK,OAAO,CAACE,aAAa,GAAI,UAASrB,KAAM,EAAC;EAE5D,OAAO,MAAML,KAAK,CAAC2B,OAAO,CAACR,OAAO,CAAC,CAACS,IAAI,CACtCC,GAAG,IAAI;IAAE,OAAOA,GAAG,CAACR,IAAI;EAAC,CAAC,EAC1BS,GAAG,IAAI;IAAE,OAAOA,GAAG;EAAE,CACvB,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}