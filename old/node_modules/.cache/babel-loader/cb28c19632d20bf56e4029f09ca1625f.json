{"ast":null,"code":"var _jsxFileName = \"/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/components/navigation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Home from '../pages/home/home';\nimport FailedOrders from '../pages/failed-orders/failed-orders'; // import OrderView from '../pages/order-view/order-view';\n\nimport Settings from '../pages/settings/settings';\nimport FailedProcesses from '../pages/failed-processes/failed-processes';\nimport Users from '../pages/users/users';\nimport Login from '../pages/login/login';\nimport MobileLinksModal from './mobile-links-modal';\nimport initialRoutes from '../routes';\nimport useLinks from '../hooks/get-links'; // import nCompassLogo from '../nCompass_logo_fullsize_square.png'; // For logo.otherExtension\n\nimport { ReactComponent as Logo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../logo.svg\"; // For logo.svg.\n\nimport MenuIcon from '@mui/icons-material/Menu';\nimport LinearScaleIcon from '@mui/icons-material/LinearScale';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NavBar = () => {\n  _s();\n\n  // const [linkId, setLinkId] = useState(null);\n  // const [inputId, setInputId] = useState(null);\n  // const [inputDisplay, setInputDisplay] = useState(null);\n  const [signUp, setSignUp] = useState(false);\n  const [error, setError] = useState(null);\n  const [routes, setRoutes] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem('loggedIn') ? JSON.parse(localStorage.getItem('loggedIn')) : null);\n  const [activePage, setActivePage] = useState(null);\n  const [renderMobileLinksModal, setRenderMobileLinksModal] = useState(false);\n  const [reRender, setReRender] = useState(false);\n  const loggedInUser = useRef(null);\n  const links = useLinks(routes, null, null, handleClick); // (Hoisted function.) If the user logs out, this function causes the user's token to expire.\n\n  function handleClick(event) {\n    const id = event.target.id; // setInputDisplay(null); // For the search-order field, which isn't being used.\n\n    setRenderMobileLinksModal(false);\n    document.getElementsByTagName('body')[0].classList.remove('no-scroll');\n\n    if (id === 'Sign Out') {\n      setLoggedIn(0);\n      setSignUp(false);\n    }\n\n    if (id === 'Sign In') setError('');\n    if (id === 'Users') setError(null);\n\n    if (id === 'Failed Processes') {\n      setReRender(false);\n      setReRender(true);\n    } else {\n      setReRender(false);\n    }\n  }\n\n  ; // Handle the user's clicking of the hamburger menu.\n\n  const handleMenuClick = () => {\n    const activePage = document.getElementsByClassName('active')[0].innerText;\n\n    if (activePage) {\n      // Disable/enable vertical scrolling on click of the hamburger menu and its closed counterpart.\n      document.getElementsByTagName('body')[0].classList.toggle('no-scroll'); // Set the active page.\n\n      setActivePage(activePage); // Render the component that will show a modal of menu items.\n\n      setRenderMobileLinksModal(!renderMobileLinksModal);\n    }\n  }; // For redacted search-by-order field: Sets the inputId equal to the user's input in the input field and sets linkId to null.\n  // const handleSubmit = event => {\n  //   event.preventDefault();\n  //   if (typeof inputDisplay === 'number') {\n  //       setInputId(inputDisplay);\n  //       setLinkId(null);\n  //       setRedirect(true);\n  //   } else setInputDisplay('Need a number.');\n  // };\n  // For redacted search-by-order field.\n  // const handleChange = event => {\n  //   let id = parseInt(event.target.value);\n  //   typeof id === 'number' ? setInputDisplay(id) : setInputDisplay('Enter a number.');\n  // };\n  // // Retrieves the ID from params.state. \n  // const getIdOnClick = num => {\n  //   let id;\n  //   if (num) id = parseInt(num);\n  //   if (id) {\n  //     if (inputDisplay) {\n  //       if (inputDisplay !== id) {\n  //         setLinkId(id);\n  //         setInputDisplay(id);\n  //         setInputId(null);\n  //       } else {\n  //         // console.log('id === inputDisplay');\n  //       }\n  //     } else {\n  //       if(id !== inputId) {\n  //         setLinkId(id);\n  //         setInputDisplay(id);\n  //         setInputId(null);\n  //       } else {\n  //         setInputDisplay(inputId);\n  //       }\n  //     }\n  //   }\n  // };\n\n\n  const liftUser = user => {\n    loggedInUser.current = user;\n    if (!user) setLoggedIn(0);\n  }; // Relays an action taken via submit on a page down river.\n\n\n  const liftData = (boolean, caller, error = false, line = 0) => {\n    if (caller === 'signin') {\n      if (!error) {\n        setLoggedIn(boolean ? 1 : 0);\n        setSignUp(false);\n      } else setError(null);\n    } else if (caller === 'signup') {\n      setSignUp(boolean);\n    } else if (caller === 'user') {\n      setLoggedIn(boolean);\n    } else {\n      setSignUp(false);\n      setLoggedIn(0);\n    }\n  }; // Update the routes to reflect whether a user is signed in or out.\n\n\n  useEffect(() => {\n    let mounted = true;\n\n    if (mounted) {\n      const updatedRoutes = initialRoutes.map(route => {\n        if (route.path === '/login') {\n          const temp = Object.assign({}, route);\n          temp.name = parseInt(loggedIn) ? 'Sign Out' : 'Sign In';\n          return temp;\n        }\n\n        return route;\n      });\n      setRoutes(updatedRoutes);\n      localStorage.setItem('loggedIn', loggedIn);\n    }\n\n    return () => mounted = false;\n  }, [loggedIn, signUp, reRender]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-links mobile\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: process.env.REACT_APP_HOME ? process.env.REACT_APP_HOME : 'https://hulk.yoli.net:3002/',\n            children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 111\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"links-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navbar-links\",\n            children: links\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), loggedIn ? !renderMobileLinksModal ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hamburger-menu-icon\",\n            onClick: handleMenuClick,\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 82\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hamburger-menu-icon\",\n            onClick: handleMenuClick,\n            children: /*#__PURE__*/_jsxDEV(LinearScaleIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 82\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 19\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-links tablet\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"links-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navbar-links\",\n            children: links\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: process.env.REACT_APP_HOME ? process.env.REACT_APP_HOME : 'https://hulk.yoli.net:3002/',\n            children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 111\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), loggedIn ? !renderMobileLinksModal ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hamburger-menu-icon\",\n          onClick: handleMenuClick,\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 78\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hamburger-menu-icon\",\n          onClick: handleMenuClick,\n          children: /*#__PURE__*/_jsxDEV(LinearScaleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 78\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-links desktop\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: process.env.REACT_APP_HOME ? process.env.REACT_APP_HOME : 'https://hulk.yoli.net:3002/',\n            children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 111\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"links-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navbar-links\",\n            children: links\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Redirect, {\n          exact: true,\n          from: \"/\",\n          to: !loggedIn ? '/login' : '/dashboard'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/dashboard\",\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/failed-orders\",\n          children: /*#__PURE__*/_jsxDEV(FailedOrders, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/failed-processes\",\n          children: /*#__PURE__*/_jsxDEV(FailedProcesses, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/settings\",\n          children: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/users\",\n          children: /*#__PURE__*/_jsxDEV(Users, {\n            liftData: liftData,\n            liftUser: liftUser // clearId={clearId} \n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            liftData: liftData,\n            liftUser: liftUser,\n            loggedIn: loggedIn,\n            signUp: signUp,\n            error: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), renderMobileLinksModal ? /*#__PURE__*/_jsxDEV(MobileLinksModal, {\n      links: links,\n      activePage: activePage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 33\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NavBar, \"sIxg9i4JagJTlRPgZ67XQYvL9n0=\", false, function () {\n  return [useLinks];\n});\n\n_c = NavBar;\nexport default NavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"sources":["/Users/rhead/Coding/campswim/dashboard/dashboard-ncompass/src/components/navigation.js"],"names":["React","useState","useEffect","useRef","BrowserRouter","Router","Switch","Route","Redirect","Home","FailedOrders","Settings","FailedProcesses","Users","Login","MobileLinksModal","initialRoutes","useLinks","MenuIcon","LinearScaleIcon","NavBar","signUp","setSignUp","error","setError","routes","setRoutes","loggedIn","setLoggedIn","localStorage","getItem","JSON","parse","activePage","setActivePage","renderMobileLinksModal","setRenderMobileLinksModal","reRender","setReRender","loggedInUser","links","handleClick","event","id","target","document","getElementsByTagName","classList","remove","handleMenuClick","getElementsByClassName","innerText","toggle","liftUser","user","current","liftData","boolean","caller","line","mounted","updatedRoutes","map","route","path","temp","Object","assign","name","parseInt","setItem","process","env","REACT_APP_HOME"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Home from '../pages/home/home';\nimport FailedOrders from '../pages/failed-orders/failed-orders';\n// import OrderView from '../pages/order-view/order-view';\nimport Settings from '../pages/settings/settings';\nimport FailedProcesses from '../pages/failed-processes/failed-processes';\nimport Users from '../pages/users/users';\nimport Login from '../pages/login/login';\nimport MobileLinksModal from './mobile-links-modal';\nimport initialRoutes from '../routes';\nimport useLinks from '../hooks/get-links';\n// import nCompassLogo from '../nCompass_logo_fullsize_square.png'; // For logo.otherExtension\nimport {ReactComponent as Logo} from '../logo.svg';  // For logo.svg.\nimport MenuIcon from '@mui/icons-material/Menu';\nimport LinearScaleIcon from '@mui/icons-material/LinearScale';\n\nconst NavBar = () => {\n  // const [linkId, setLinkId] = useState(null);\n  // const [inputId, setInputId] = useState(null);\n  // const [inputDisplay, setInputDisplay] = useState(null);\n  const [signUp, setSignUp] = useState(false);\n  const [error, setError] = useState(null);\n  const [routes, setRoutes] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem('loggedIn') ? JSON.parse(localStorage.getItem('loggedIn')) : null);\n  const [activePage, setActivePage] = useState(null);\n  const [renderMobileLinksModal, setRenderMobileLinksModal] = useState(false);\n  const [reRender, setReRender] = useState(false);\n  const loggedInUser = useRef(null);\n  const links = useLinks(routes, null, null, handleClick);\n\n  // (Hoisted function.) If the user logs out, this function causes the user's token to expire.\n  function handleClick(event) {\n    const id = event.target.id;\n    \n    // setInputDisplay(null); // For the search-order field, which isn't being used.\n    setRenderMobileLinksModal(false);\n    document.getElementsByTagName('body')[0].classList.remove('no-scroll');\n\n    if (id === 'Sign Out') {\n      setLoggedIn(0);\n      setSignUp(false);\n    }\n\n    if (id === 'Sign In') setError('');\n    if (id === 'Users') setError(null);\n\n    if (id === 'Failed Processes') {\n      setReRender(false);\n      setReRender(true);\n    } else {\n      setReRender(false);\n    }\n  };\n\n  // Handle the user's clicking of the hamburger menu.\n  const handleMenuClick = () => {\n    const activePage = document.getElementsByClassName('active')[0].innerText;\n\n    if (activePage) {\n      // Disable/enable vertical scrolling on click of the hamburger menu and its closed counterpart.\n      document.getElementsByTagName('body')[0].classList.toggle('no-scroll');\n      // Set the active page.\n      setActivePage(activePage);\n\n      // Render the component that will show a modal of menu items.\n      setRenderMobileLinksModal(!renderMobileLinksModal);\n    }\n  }\n\n  // For redacted search-by-order field: Sets the inputId equal to the user's input in the input field and sets linkId to null.\n  // const handleSubmit = event => {\n  //   event.preventDefault();\n  //   if (typeof inputDisplay === 'number') {\n  //       setInputId(inputDisplay);\n  //       setLinkId(null);\n  //       setRedirect(true);\n  //   } else setInputDisplay('Need a number.');\n  // };\n\n  // For redacted search-by-order field.\n  // const handleChange = event => {\n  //   let id = parseInt(event.target.value);\n  //   typeof id === 'number' ? setInputDisplay(id) : setInputDisplay('Enter a number.');\n  // };\n\n  // // Retrieves the ID from params.state. \n  // const getIdOnClick = num => {\n  //   let id;\n  //   if (num) id = parseInt(num);\n  //   if (id) {\n  //     if (inputDisplay) {\n  //       if (inputDisplay !== id) {\n  //         setLinkId(id);\n  //         setInputDisplay(id);\n  //         setInputId(null);\n  //       } else {\n  //         // console.log('id === inputDisplay');\n  //       }\n  //     } else {\n  //       if(id !== inputId) {\n  //         setLinkId(id);\n  //         setInputDisplay(id);\n  //         setInputId(null);\n  //       } else {\n  //         setInputDisplay(inputId);\n  //       }\n  //     }\n  //   }\n  // };\n\n  const liftUser = user => {\n    loggedInUser.current = user;\n    if (!user) setLoggedIn(0);\n  };\n\n  // Relays an action taken via submit on a page down river.\n  const liftData = (boolean, caller, error = false, line = 0) => {\n    if (caller === 'signin') {\n      if (!error) {\n        setLoggedIn(boolean ? 1 : 0);\n        setSignUp(false);\n      } else setError(null);\n    } else if (caller === 'signup') {\n      setSignUp(boolean);\n    } else if (caller === 'user') {\n      setLoggedIn(boolean);\n    } else {\n      setSignUp(false);\n      setLoggedIn(0);\n    }\n  }\n\n  // Update the routes to reflect whether a user is signed in or out.\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      const updatedRoutes = initialRoutes.map(route => {        \n        if (route.path === '/login') {\n          const temp = Object.assign({}, route);\n          temp.name = parseInt(loggedIn) ? 'Sign Out' : 'Sign In';\n          return temp;\n        }\n        return route;\n      });\n      \n      setRoutes(updatedRoutes);\n      localStorage.setItem('loggedIn', loggedIn);\n    }\n    return () => mounted = false;\n  }, [loggedIn, signUp, reRender]);\n  \n  return (\n    <Router>\n      <nav className='navbar'>\n        <div className='logo-links mobile'>\n          <div className=\"logo-container\">\n            <a href={process.env.REACT_APP_HOME ? process.env.REACT_APP_HOME : 'https://hulk.yoli.net:3002/'}><Logo /></a>\n            {/* <a href={process.env.REACT_APP_HOME}><img className=\"logo\" src={nCompassLogo} alt=\"logo\" /></a> */}\n            <h1>Orders</h1>\n          </div>\n          <div className=\"links-container\">\n            <div className={\"navbar-links\"}>\n              {links}\n            </div>\n              {loggedIn ? // Hamburger menu icon.\n              (\n                !renderMobileLinksModal \n                ? <div className=\"hamburger-menu-icon\" onClick={handleMenuClick}><MenuIcon /></div>\n                : <div className=\"hamburger-menu-icon\" onClick={handleMenuClick}><LinearScaleIcon /></div>\n              )\n              : null\n              }\n          </div>\n        </div>\n        <div className='logo-links tablet'>\n          <div className='links-container'>\n            <div className={\"navbar-links\"}>\n              {links}\n            </div>\n          </div>\n          <div className='logo-container'>\n            <a href={process.env.REACT_APP_HOME ? process.env.REACT_APP_HOME : 'https://hulk.yoli.net:3002/'}><Logo /></a>\n            {/* <a href={process.env.REACT_APP_HOME}><img className=\"logo\" src={nCompassLogo} alt=\"logo\" /></a> */}\n            <h1>Orders</h1>\n          </div>\n          {loggedIn ? // Hamburger menu icon.\n          (\n            !renderMobileLinksModal \n            ? <div className=\"hamburger-menu-icon\" onClick={handleMenuClick}><MenuIcon /></div>\n            : <div className=\"hamburger-menu-icon\" onClick={handleMenuClick}><LinearScaleIcon /></div>\n          )\n          : null\n          }\n        </div>\n        <div className='logo-links desktop'>\n          <div className=\"logo-container\">\n            <a href={process.env.REACT_APP_HOME ? process.env.REACT_APP_HOME : 'https://hulk.yoli.net:3002/'}><Logo /></a>\n            {/* <a href={process.env.REACT_APP_HOME}><img className=\"logo\" src={nCompassLogo} alt=\"logo\" /></a> */}\n            <h1>Orders</h1>\n          </div>\n          <div className=\"links-container\">\n            <div className={\"navbar-links\"}>\n              {links}\n            </div>\n          </div>\n        </div>\n        {/* <div className='order-search'>\n          <input\n            className='search-field'\n            value={inputDisplay ? inputDisplay : ''}\n            placeholder=\"Order Search by ID\"\n            onChange={handleChange}\n            onKeyPress={event => event.key === 'Enter' ? handleSubmit(event) : {}}\n            onClick={handleClick}\n          />\n        </div> */}\n      </nav>\n      <main className='main'>\n        <Switch>\n          {/* <Route exact path='/' >\n            <Home />\n          </Route> */}\n          <Redirect exact from='/' to={!loggedIn ? '/login' : '/dashboard'} />\n          <Route exact path='/dashboard'>\n            <Home />\n          </Route>\n          <Route exact path='/failed-orders'>\n            <FailedOrders />\n          </Route>\n          <Route exact path='/failed-processes'>\n            <FailedProcesses />\n          </Route>\n          {/* <Route exact path='/order-view'>\n            <OrderView getId={getIdOnClick}/>\n          </Route> */}\n          <Route exact path='/settings'>\n            <Settings />\n          </Route>\n          <Route exact path='/users'>\n            <Users \n              liftData={liftData}\n              liftUser={liftUser}\n              // clearId={clearId} \n            />\n          </Route>\n          <Route exact path='/login'>\n            <Login liftData={liftData} liftUser={liftUser} loggedIn={loggedIn} signUp={signUp} error={error} />\n          </Route>\n        </Switch>\n        {/* {redirect === true ? (\n          <Redirect \n            to={{\n              pathname: '/order-view',\n              state: {\n                order: inputId ? inputId : linkId,\n              },\n            }}\n          />\n        ) : (\n          '' \n        )} */}\n      </main>\n      {renderMobileLinksModal ? <MobileLinksModal links={links} activePage={activePage} /> : null}\n    </Router>\n  );\n};\n\nexport default NavBar;\n"]},"metadata":{},"sourceType":"module"}